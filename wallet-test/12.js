webpackJsonp([12,0,2,6,9,10,16,36],{1094:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(91),l=n(23),u=n.n(l),f=n(253),p=n(32),m=n(8),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e._getInitialState(),e}return o(t,e),d(t,[{key:"_getInitialState",value:function(){return{password:null,brainkey:null,invalid_password:!1}}},{key:"render",value:function(){var e,t=p.a.getWallet().brainkey_backup_date,n=t?s.a.createElement("div",null,s.a.createElement(u.a,{content:"wallet.brainkey_backed_up"}),": ",s.a.createElement(c.c,{value:t})):s.a.createElement(u.a,{className:"facolor-error",component:"p",content:"wallet.brainkey_not_backed_up"});if(this.state.verified){var r=m.l.sha1(this.state.brainkey).toString("hex").substring(0,4);e=s.a.createElement("div",null,s.a.createElement("h3",null,s.a.createElement(u.a,{content:"wallet.brainkey"})),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("h5",null,this.state.brainkey))),s.a.createElement("br",null),s.a.createElement("pre",{className:"no-overflow"},"sha1 hash of the brainkey: ",r),s.a.createElement("br",null),n)}if(!e&&this.state.brainkey){var r=m.l.sha1(this.state.brainkey).toString("hex").substring(0,4);e=s.a.createElement("span",null,s.a.createElement("h3",null,s.a.createElement(u.a,{content:"wallet.brainkey"})),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("h5",null,this.state.brainkey))),s.a.createElement("div",{style:{padding:"10px 0"}},s.a.createElement("pre",{className:"no-overflow"},"sha1 hash of your brainkey: ",r)),s.a.createElement("hr",null),s.a.createElement("div",{style:{padding:"10px 0 20px 0"}},s.a.createElement(u.a,{content:"wallet.brainkey_w1"}),s.a.createElement("br",null),s.a.createElement(u.a,{content:"wallet.brainkey_w2"}),s.a.createElement("br",null),s.a.createElement(u.a,{content:"wallet.brainkey_w3"})),s.a.createElement("button",{className:"button success",onClick:this.onComplete.bind(this)},s.a.createElement(u.a,{content:"wallet.verify"})),s.a.createElement("button",{className:"button cancel",onClick:this.reset.bind(this)},s.a.createElement(u.a,{content:"wallet.cancel"})))}if(!e){this.state.password&&""!==this.state.password;e=s.a.createElement("span",null,s.a.createElement("label",null,s.a.createElement(u.a,{content:"wallet.enter_password"})),s.a.createElement("form",{onSubmit:this.onSubmit.bind(this),className:"name-form",noValidate:!0},s.a.createElement("input",{type:"password",id:"password",onChange:this.onPassword.bind(this)}),s.a.createElement("p",null,this.state.invalid_password?s.a.createElement("span",{className:"error"},"Invalid password"):s.a.createElement("span",null,s.a.createElement(u.a,{content:"wallet.pwd4brainkey"}))),s.a.createElement("div",null,n,s.a.createElement("br",null)),s.a.createElement("button",{className:"button success"},s.a.createElement(u.a,{content:"wallet.show_brainkey"}))))}return s.a.createElement("div",{className:"grid-block vertical"},s.a.createElement("div",{className:"grid-content no-overflow"},e))}},{key:"onComplete",value:function(e){this.setState({verified:!0}),f.a.setBrainkeyBackupDate()}},{key:"reset",value:function(e){e&&e.preventDefault(),this.setState(this._getInitialState())}},{key:"onBack",value:function(e){e.preventDefault(),window.history.back()}},{key:"onSubmit",value:function(e){e.preventDefault();var t=p.a.isLocked();if(p.a.validatePassword(this.state.password,!0)){var n=p.a.getBrainKey();t&&p.a.onLock(),this.setState({brainkey:n})}else this.setState({invalid_password:!0})}},{key:"onPassword",value:function(e){this.setState({password:e.target.value,invalid_password:!1})}}]),t}(i.Component);t.default=_},1095:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(1211),l=(n.n(c),n(23)),u=n.n(l),f=n(255),p=n(61),m=n.n(p),d=n(32),_=n(1177),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={success:!1},e}return o(t,e),h(t,[{key:"onAccept",value:function(e){var t=this;e.preventDefault();var n=this.state,r=n.old_password,a=n.new_password;d.a.changePassword(r,a,!0).then(function(){f.a.success("Password changed"),t.setState({success:!0})}).catch(function(e){console.error(e),f.a.error("Unable to change password: "+e)})}},{key:"onOldPassword",value:function(e){this.setState({old_password:e})}},{key:"onNewPassword",value:function(e){this.setState({new_password:e})}},{key:"_onCancel",value:function(){this.setState({old_password:""}),this.refs.pwd.cancel()}},{key:"render",value:function(){var e=!!this.state.new_password,t=this.state.success;return t?s.a.createElement("div",null,s.a.createElement(u.a,{component:"p",content:"wallet.change_success"}),s.a.createElement(u.a,{component:"p",content:"wallet.change_backup"}),s.a.createElement(c.Link,{to:"/wallet/backup/create"},s.a.createElement("div",{className:"button outline"},s.a.createElement(u.a,{content:"wallet.create_backup"})))):s.a.createElement("span",null,s.a.createElement(y,{ref:"pwd",onValid:this.onOldPassword.bind(this)},s.a.createElement(_.a,{onSubmit:this.onAccept.bind(this),newPassword:!0,onValid:this.onNewPassword.bind(this)},s.a.createElement("button",{className:m()("button outline",{disabled:!e}),type:"submit",onClick:this.onAccept.bind(this)},s.a.createElement(u.a,{content:"wallet.accept"})),s.a.createElement("div",{className:"button outline",onClick:this._onCancel.bind(this)},s.a.createElement(u.a,{content:"wallet.cancel"})))))}}]),t}(i.Component);t.default=v;var y=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={password:"",verified:!1},e}return o(t,e),h(t,[{key:"cancel",value:function(){this.setState({verified:!1,password:""})}},{key:"onPassword",value:function(e){e.preventDefault(),d.a.validatePassword(this.state.password)?(this.setState({verified:!0}),this.props.onValid(this.state.password)):f.a.error("Invalid Password")}},{key:"formChange",value:function(e){var t={};t[e.target.id]=e.target.value,this.setState(t)}},{key:"render",value:function(){return this.state.verified?s.a.createElement("div",{className:"grid-content"},this.props.children):s.a.createElement("form",{onSubmit:this.onPassword.bind(this)},s.a.createElement("label",null,s.a.createElement(u.a,{content:"wallet.existing_password"})),s.a.createElement("section",null,s.a.createElement("input",{placeholder:"Current password",type:"password",id:"password",onChange:this.formChange.bind(this),value:this.state.password})),s.a.createElement("button",{className:"button outline"},s.a.createElement(u.a,{content:"wallet.submit"})))}}]),t}(i.Component);y.propTypes={onValid:s.a.PropTypes.func.isRequired};(function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"render",value:function(){var e=this.props.label||s.a.createElement(u.a,{content:"wallet.reset"});return s.a.createElement("span",{className:"button outline",onClick:this.onReset.bind(this)},e)}},{key:"onReset",value:function(){window.history.back()}}]),t})(i.Component)},1118:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(43),l=n(409),u=n(161),f=n.n(u),p=n(1293),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"render",value:function(){return s.a.createElement(f.a,{stores:[c.a],inject:{settings:function(){return c.a.getState().settings},viewSettings:function(){return c.a.getState().viewSettings},defaults:function(){return c.a.getState().defaults},localesObject:function(){return l.a.getState().localesObject}}},s.a.createElement(p.a,null))}}]),t}(s.a.Component);t.default=d},1127:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return null==e||p.default.isValidElement(e)}function o(e){return a(e)||Array.isArray(e)&&e.every(a)}function i(e,t){return u({},e,t)}function s(e){var t=e.type,n=i(t.defaultProps,e.props);if(n.children){var r=c(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function c(e,t){var n=[];return p.default.Children.forEach(e,function(e){if(p.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(s(e))}),n}function l(e){return o(e)?e=c(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=o,t.createRouteFromReactElement=s,t.createRoutesFromReactChildren=c,t.createRoutes=l;var f=n(1),p=r(f)},1136:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){for(var t="",n=[],r=[],o=void 0,i=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;o=s.exec(e);)o.index!==i&&(r.push(e.slice(i,o.index)),t+=a(e.slice(i,o.index))),o[1]?(t+="([^/]+)",n.push(o[1])):"**"===o[0]?(t+="(.*)",n.push("splat")):"*"===o[0]?(t+="(.*?)",n.push("splat")):"("===o[0]?t+="(?:":")"===o[0]?t+=")?":"\\("===o[0]?t+="\\(":"\\)"===o[0]&&(t+="\\)"),r.push(o[0]),i=s.lastIndex;return i!==e.length&&(r.push(e.slice(i,e.length)),t+=a(e.slice(i,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function i(e){return m[e]||(m[e]=o(e)),m[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=i(e),r=n.regexpSource,a=n.paramNames,o=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===o[o.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var c=s[0],l=t.substr(c.length);if(l){if("/"!==c.charAt(c.length-1))return null;l="/"+l}return{remainingPathname:l,paramNames:a,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function c(e){return i(e).paramNames}function l(e,t){var n=s(e,t);if(!n)return null;var r=n.paramNames,a=n.paramValues,o={};return r.forEach(function(e,t){o[e]=a[t]}),o}function u(e,t){t=t||{};for(var n=i(e),r=n.tokens,a=0,o="",s=0,c=[],l=void 0,u=void 0,f=void 0,m=0,d=r.length;m<d;++m)if(l=r[m],"*"===l||"**"===l)f=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=f||a>0?void 0:(0,p.default)(!1),null!=f&&(o+=encodeURI(f));else if("("===l)c[a]="",a+=1;else if(")"===l){var _=c.pop();a-=1,a?c[a-1]+=_:o+=_}else if("\\("===l)o+="(";else if("\\)"===l)o+=")";else if(":"===l.charAt(0))if(u=l.substring(1),f=t[u],null!=f||a>0?void 0:(0,p.default)(!1),null==f){if(a){c[a-1]="";for(var h=r.indexOf(l),v=r.slice(h,r.length),y=-1,b=0;b<v.length;b++)if(")"==v[b]){y=b;break}y>0?void 0:(0,p.default)(!1),m=h+y-1}}else a?c[a-1]+=encodeURIComponent(f):o+=encodeURIComponent(f);else a?c[a-1]+=l:o+=l;return a<=0?void 0:(0,p.default)(!1),o.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=i,t.matchPattern=s,t.getParamNames=c,t.getParams=l,t.formatPattern=u;var f=n(21),p=r(f),m=Object.create(null)},1137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(t.indexOf("deprecated")!==-1){if(c[t])return;c[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];s.default.apply(void 0,[e,t].concat(r))}function o(){c={}}t.__esModule=!0,t.default=a,t._resetWarned=o;var i=n(68),s=r(i),c={}},1153:function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var a=n(1),o=a.PropTypes.func,i=a.PropTypes.object,s=a.PropTypes.arrayOf,c=a.PropTypes.oneOfType,l=a.PropTypes.element,u=a.PropTypes.shape,f=a.PropTypes.string,p=(t.history=u({listen:o.isRequired,push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired}),t.component=c([o,f])),m=(t.components=c([p,i]),t.route=c([i,l]));t.routes=c([m,s(m)])},1155:function(e,t,n){var r,a=a||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in r,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",u=4e4,f=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,u)},p=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(e){c(e)}}},m=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},d=function(t,c,u){u||(t=m(t));var d,_=this,h=t.type,v=h===l,y=function(){p(_,"writestart progress write writeend".split(" "))},b=function(){if((s||v&&i)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,_.readyState=_.DONE,y()},r.readAsDataURL(t),void(_.readyState=_.INIT)}if(d||(d=n().createObjectURL(t)),v)e.location.href=d;else{var a=e.open(d,"_blank");a||(e.location.href=d)}_.readyState=_.DONE,y(),f(d)};return _.readyState=_.INIT,a?(d=n().createObjectURL(t),void setTimeout(function(){r.href=d,r.download=c,o(r),y(),f(d),_.readyState=_.DONE})):void b()},_=d.prototype,h=function(e,t,n){return new d(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=m(e)),navigator.msSaveOrOpenBlob(e,t)}:(_.abort=function(){},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=a:null!==n(1164)&&null!==n(1165)&&(r=function(){return a}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))},1164:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1165:function(e,t){(function(t){e.exports=t}).call(t,{})},1171:function(e,t,n){"use strict";function r(e,t,n){function r(){return i=!0,s?void(l=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function a(){if(!i&&(c=!0,!s)){for(s=!0;!i&&o<e&&c;)c=!1,t.call(this,o++,a,r);return s=!1,i?void n.apply(this,l):void(o>=e&&c&&(i=!0,n()))}}var o=0,i=!1,s=!1,c=!1,l=void 0;a()}function a(e,t,n){function r(e,t,r){i||(t?(i=!0,n(t)):(o[e]=r,i=++s===a,i&&n(null,o)))}var a=e.length,o=[];if(0===a)return n(null,o);var i=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=r,t.mapAsync=a},1172:function(e,t,n){"use strict";function r(e){return"@@contextSubscriber/"+e}function a(e){var t,n,a=r(e),o=a+"/listeners",i=a+"/eventIndex",c=a+"/subscribe";return n={childContextTypes:(t={},t[a]=s.isRequired,t),getChildContext:function(){var e;return e={},e[a]={eventIndex:this[i],subscribe:this[c]},e},componentWillMount:function(){this[o]=[],this[i]=0},componentWillReceiveProps:function(){this[i]++},componentDidUpdate:function(){var e=this;this[o].forEach(function(t){return t(e[i])})}},n[c]=function(e){var t=this;return this[o].push(e),function(){t[o]=t[o].filter(function(t){return t!==e})}},n}function o(e){var t,n,a=r(e),o=a+"/lastRenderedEventIndex",i=a+"/handleContextUpdate",c=a+"/unsubscribe";return n={contextTypes:(t={},t[a]=s,t),getInitialState:function(){var e;return this.context[a]?(e={},e[o]=this.context[a].eventIndex,e):{}},componentDidMount:function(){this.context[a]&&(this[c]=this.context[a].subscribe(this[i]))},componentWillReceiveProps:function(){var e;this.context[a]&&this.setState((e={},e[o]=this.context[a].eventIndex,e))},componentWillUnmount:function(){this[c]&&(this[c](),this[c]=null)}},n[i]=function(e){if(e!==this.state[o]){var t;this.setState((t={},t[o]=e,t))}},n}t.__esModule=!0,t.ContextProvider=a,t.ContextSubscriber=o;var i=n(1),s=i.PropTypes.shape({subscribe:i.PropTypes.func.isRequired,eventIndex:i.PropTypes.number.isRequired})},1173:function(e,t,n){"use strict";t.__esModule=!0,t.locationShape=t.routerShape=void 0;var r=n(1),a=r.PropTypes.func,o=r.PropTypes.object,i=r.PropTypes.shape,s=r.PropTypes.string;t.routerShape=i({push:a.isRequired,replace:a.isRequired,go:a.isRequired,goBack:a.isRequired,goForward:a.isRequired,setRouteLeaveHook:a.isRequired,isActive:a.isRequired}),t.locationShape=i({pathname:s.isRequired,search:s.isRequired,state:o,action:s.isRequired,key:s})},1174:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(21),s=r(i),c=n(1),l=r(c),u=n(1209),f=r(u),p=n(1172),m=n(1127),d=l.default.PropTypes,_=d.array,h=d.func,v=d.object,y=l.default.createClass({displayName:"RouterContext",mixins:[(0,p.ContextProvider)("router")],propTypes:{router:v.isRequired,location:v.isRequired,routes:_.isRequired,params:v.isRequired,components:_.isRequired,createElement:h.isRequired},getDefaultProps:function(){return{createElement:l.default.createElement}},childContextTypes:{router:v.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,i=t.params,c=t.components,u=t.router,p=null;return c&&(p=c.reduceRight(function(t,s,c){if(null==s)return t;var l=r[c],p=(0,f.default)(l,i),d={location:n,params:i,route:l,router:u,routeParams:p,routes:r};if((0,m.isReactChildren)(t))d.children=t;else if(t)for(var _ in t)Object.prototype.hasOwnProperty.call(t,_)&&(d[_]=t[_]);if("object"===("undefined"==typeof s?"undefined":o(s))){var h={};for(var v in s)Object.prototype.hasOwnProperty.call(s,v)&&(h[v]=e.createElement(s[v],a({key:v},d)));return h}return e.createElement(s,d)},p)),null===p||p===!1||l.default.isValidElement(p)?void 0:(0,s.default)(!1),p}});t.default=y,e.exports=t.default},1177:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(23),l=n.n(c),u=n(24),f=n.n(u),p=n(61),m=n.n(p),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={password:"",confirm:"",errors:f.a.Map(),valid:!1},e}return o(t,e),d(t,[{key:"componentDidMount",value:function(){this.refs.firstPassword&&this.refs.firstPassword.focus()}},{key:"render",value:function(){var e=this.state,t=(e.password,e.confirm,e.valid,e.errors),n=this.props.newPassword,r=1;return s.a.createElement("div",{className:m()({"has-error":t.size})},s.a.createElement(l.a,{component:"label",content:n?"wallet.new_password":"wallet.password"}),s.a.createElement("section",null,s.a.createElement("input",{type:"password",id:"password",ref:"firstPassword",onChange:this.formChange.bind(this),value:this.state.password,tabIndex:r++})),s.a.createElement(l.a,{component:"label",content:n?"wallet.new_confirm":"wallet.confirm"}),s.a.createElement("section",null,s.a.createElement("input",{type:"password",id:"confirm",onChange:this.formChange.bind(this),value:this.state.confirm,tabIndex:r++})),s.a.createElement("div",{style:{paddingBottom:10}},t.get("password_match")||t.get("password_length")),this.props.children,s.a.createElement("br",null))}},{key:"formChange",value:function(e){var t=this.state;t[e.target.id]=e.target.value,this.setState(t),this.validate(t)}},{key:"validate",value:function(e){var t=e.password,n=e.confirm;n=n.trim(),t=t.trim();var r=f.a.Map();0!==t.length&&t.length<8&&(r=r.set("password_length","Password must be 8 characters or more")),""!==t&&""!==n&&t!==n&&(r=r.set("password_match","Passwords do not match"));var a=t.length>=8&&t===n;this.setState({errors:r,valid:a}),this.props.onValid(a?t:null)}}]),t}(i.Component);_.propTypes={onValid:i.PropTypes.func.isRequired},t.a=_},1178:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new Promise(function(t){t(o().then(function(t){var n=1;return i(e,t,n)}))})}function o(){return u.a.backup()}function i(t,r,a,o){return new Promise(function(i){var s=p.f.fromPublicKeyString(t),c=p.e.get_random_key(o),l=JSON.stringify(r,null,0);n.i(f.compress)(l,a,function(t){var n=p.g.encrypt_with_checksum(c,s,null,t),r=c.toPublicKey(),a=e.concat([r.toBuffer(),n]);i(a)})})}function s(t,r){return new Promise(function(a,o){e.isBuffer(r)||(r=new e(r,"binary"));var i=p.m.fromWif(t),s=void 0;try{s=p.f.fromBuffer(r.slice(0,33))}catch(e){throw console.error(e,e.stack),new Error("Invalid backup file")}r=r.slice(33);try{r=p.g.decrypt_with_checksum(i,s,null,r)}catch(e){return console.error("Error decrypting wallet",e,e.stack),void o("invalid_decryption_key")}try{n.i(f.decompress)(r,function(e){try{var t=JSON.parse(e);a(t)}catch(t){e||(e=""),console.error("Error parsing wallet json",e.substring(0,10)+"..."),o("Error parsing wallet json")}})}catch(e){return console.error("Error decompressing wallet",e,e.stack),void o("Error decompressing wallet")}})}var c=n(9),l=n.n(c),u=n(67),f=n(1191),p=(n.n(f),n(8));n(253);t.b=a,t.c=s;var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(){function t(){r(this,t)}return m(t,[{key:"incommingWebFile",value:function(t){return function(n){var r=new FileReader;r.onload=function(r){var a=new e(r.target.result,"binary"),o=t.name,i=t.lastModifiedDate.toString();n({name:o,contents:a,last_modified:i})},r.readAsBinaryString(t)}}},{key:"incommingBuffer",value:function(e){return e}},{key:"reset",value:function(){return!0}}]),t}(),_=l.a.createActions(d);t.a=_}).call(t,n(2).Buffer)},1179:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return 0===e.button}function i(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function c(e,t){return"function"==typeof e?e(t.location):e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),f=r(u),p=n(21),m=r(p),d=n(1173),_=n(1172),h=f.default.PropTypes,v=h.bool,y=h.object,b=h.string,g=h.func,w=h.oneOfType,E=f.default.createClass({displayName:"Link",mixins:[(0,_.ContextSubscriber)("router")],contextTypes:{router:d.routerShape},propTypes:{to:w([b,y,g]),query:y,hash:b,state:y,activeStyle:y,activeClassName:b,onlyActiveOnIndex:v.isRequired,onClick:g,target:b},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t?void 0:(0,m.default)(!1),!i(e)&&o(e)&&(this.props.target||(e.preventDefault(),t.push(c(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,r=e.activeStyle,o=e.onlyActiveOnIndex,i=a(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),u=this.context.router;if(u){if(!t)return f.default.createElement("a",i);var p=c(t,u);i.href=u.createHref(p),(n||null!=r&&!s(r))&&u.isActive(p,o)&&(n&&(i.className?i.className+=" "+n:i.className=n),r&&(i.style=l({},i.style,r)))}return f.default.createElement("a",l({},i,{onClick:this.handleClick}))}});t.default=E,e.exports=t.default},1180:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then}t.__esModule=!0,t.isPromise=r},1181:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),o=r(a),i=n(21),s=r(i),c=n(1127),l=n(1136),u=n(1153),f=o.default.PropTypes,p=f.string,m=f.object,d=o.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,c.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,a=e.params,o=void 0;if("/"===t.to.charAt(0))o=(0,l.formatPattern)(t.to,a);else if(t.to){var i=e.routes.indexOf(t),s=d.getRoutePattern(e.routes,i-1),c=s.replace(/\/*$/,"/")+t.to;o=(0,l.formatPattern)(c,a)}else o=r.pathname;n({pathname:o,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var a=e[r],o=a.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:p,from:p,to:p.isRequired,query:m,state:m,onEnter:u.falsy,children:u.falsy},render:function(){(0,s.default)(!1)}});t.default=d,e.exports=t.default},1182:function(e,t,n){"use strict";function r(e,t,n){var r=o({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive});return a(r,n)}function a(e,t){var n=t.location,r=t.params,a=t.routes;return e.location=n,e.params=r,e.routes=a,e}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=r,t.assignRouterState=a},1183:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,u.default)(e),n=function(){return t},r=(0,i.default)((0,c.default)(n))(e);return r}t.__esModule=!0,t.default=a;var o=n(264),i=r(o),s=n(263),c=r(s),l=n(396),u=r(l);e.exports=t.default},1184:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){var t=void 0;return i&&(t=(0,o.default)(e)()),t};var a=n(1186),o=r(a),i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},1185:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e,t){function n(t,n){return t=e.createLocation(t),(0,p.default)(t,n,b.location,b.routes,b.params)}function r(e,n){g&&g.location===e?o(g,n):(0,h.default)(t,e,function(t,r){t?n(t):r?o(i({},r,{location:e}),n):n()})}function o(e,t){function n(n,a){return n||a?r(n,a):void(0,d.default)(e,function(n,r){n?t(n):t(null,null,b=i({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var a=(0,l.default)(b,e),o=a.leaveRoutes,s=a.changeRoutes,c=a.enterRoutes;(0,u.runLeaveHooks)(o,b),o.filter(function(e){return c.indexOf(e)===-1}).forEach(_),(0,u.runChangeHooks)(s,b,e,function(t,a){return t||a?r(t,a):void(0,u.runEnterHooks)(c,e,n)})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=w++)}function c(e){return e.map(function(e){return E[s(e)]}).filter(function(e){return e})}function f(e,n){(0,h.default)(t,e,function(t,r){if(null==r)return void n();g=i({},r,{location:e});for(var a=c((0,l.default)(b,g).leaveRoutes),o=void 0,s=0,u=a.length;null==o&&s<u;++s)o=a[s](e);n(o)})}function m(){if(b.routes){for(var e=c(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function _(e){var t=s(e);t&&(delete E[t],a(E)||(k&&(k(),k=null),P&&(P(),P=null)))}function v(t,n){var r=!a(E),o=s(t,!0);return E[o]=n,r&&(k=e.listenBefore(f),e.listenBeforeUnload&&(P=e.listenBeforeUnload(m))),function(){_(t)}}function y(t){function n(n){b.location===n?t(null,b):r(n,function(n,r,a){n?t(n):r?e.replace(r):a&&t(null,a)})}var a=e.listen(n);return b.location?t(null,b):n(e.getCurrentLocation()),a}var b={},g=void 0,w=1,E=Object.create(null),k=void 0,P=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:v,listen:y}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(1137),c=(r(s),n(1207)),l=r(c),u=n(1204),f=n(1212),p=r(f),m=n(1208),d=r(m),_=n(1214),h=r(_);
e.exports=t.default},1186:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t){var n=(0,i.default)((0,c.default)(e))(t);return n}}t.__esModule=!0,t.default=a;var o=n(264),i=r(o),s=n(263),c=r(s);e.exports=t.default},1187:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(90),l=n(60),u=n(388),f=n(59),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){var e=this.props.accounts.filter(function(e){return!!e}).filter(function(e){return c.a.isMyAccount(e)}).map(function(e){return e.get("name")}).sort();return s.a.createElement("span",null,s.a.createElement(u.a,{onChange:this.onAccountSelect.bind(this),account_names:e,center:!0}))}},{key:"onAccountSelect",value:function(e){this.props.onChange(e)}}]),t}(i.Component);m.propTypes={accounts:l.a.ChainAccountsList.isRequired,onChange:s.a.PropTypes.func.isRequired},t.a=n.i(f.a)(m,{keep_updating:!0})},1188:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(62),l=(n.n(c),n(24)),u=n.n(l),f=n(108),p=n(378),m=n(377),d=n(127),_=n(23),h=n.n(_),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"componentWillReceiveProps",value:function(e){e.claim_account_name&&this.onClaimAccount(e.claim_account_name,e.checked)}},{key:"render",value:function(){var e=this;if(void 0===this.props.balances||!this.props.total_by_account_asset.size)return s.a.createElement("div",null);var t=-1;return s.a.createElement("div",null,s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",{style:{textAlign:"center"}},s.a.createElement(h.a,{content:"wallet.unclaimed"})),s.a.createElement("th",{style:{textAlign:"center"}},s.a.createElement(h.a,{content:"wallet.unclaimed_vesting"})),s.a.createElement("th",{style:{textAlign:"center"}},s.a.createElement(h.a,{content:"account.name"})))),s.a.createElement("tbody",null,this.props.total_by_account_asset.map(function(n,r){return s.a.createElement("tr",{key:++t},s.a.createElement("td",null,s.a.createElement("input",{type:"checkbox",checked:!!e.props.checked.get(t),onChange:e.onCheckbox.bind(e,t,n.balances)})),s.a.createElement("td",{style:{textAlign:"right"}},n.unclaimed?s.a.createElement(d.a,{color:"info",amount:n.unclaimed,asset:r.get(1)}):null),s.a.createElement("td",{style:{textAlign:"right"}},n.vesting.unclaimed?s.a.createElement("div",null,s.a.createElement(d.a,{color:"info",amount:n.vesting.unclaimed,hide_asset:!0,asset:r.get(1)}),s.a.createElement("span",null," of "),s.a.createElement(d.a,{color:"info",amount:n.vesting.total,asset:r.get(1)})):null),s.a.createElement("td",null," ",r.get(0)," "))}).toArray())))}},{key:"onCheckbox",value:function(e,t){var n=this.props.checked;n=n.get(e)?n.delete(e):n.set(e,t),m.a.setSelectedBalanceClaims(n)}},{key:"onClaimAccount",value:function(e,t){if(!t.size){var n=-1;this.props.total_by_account_asset.forEach(function(r,a){n++;var o=a.get(0);o===e&&(r.unclaimed||r.vesting.unclaimed)&&(t=t.set(n,r.balances))}),t.size&&m.a.setSelectedBalanceClaims(t)}}}]),t}(i.Component);y=n.i(c.connect)(y,{listenTo:function(){return[p.a]},getProps:function(){var e=p.a.getState(),t=e.balances,n=e.address_to_pubkey,r=f.a.getState().keys,a=u.a.Map().asMutable(),o=function(e,t){var n=a.get(e);return n||(n=u.a.Set().asMutable(),a.set(e,n)),n.add(t),n.size};return t&&(e.total_by_account_asset=t.groupBy(function(e){var t="",a=n.get(e.owner),i=r.get(a);i&&i.import_account_names&&(t=i.import_account_names.join(", "));var s=Math.ceil(o(u.a.List([t,e.balance.asset_id]),e.owner)/60),c=u.a.List([t,e.balance.asset_id,s]);return c}).map(function(e){return e.reduce(function(e,t){return t.public_key_string=n.get(t.owner),e.balances=e.balances.add(t),void 0!=t.vested_balance?(e.vesting.unclaimed+=Number(t.vested_balance.amount),e.vesting.total+=Number(t.balance.amount)):e.unclaimed+=Number(t.balance.amount),e},{unclaimed:0,vesting:{unclaimed:0,total:0},balances:u.a.Set()})}).sortBy(function(e){return e})),e}}),t.a=y},1189:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i,s=n(1),c=n.n(s),l=n(61),u=n.n(l),f=n(8),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={brnkey:"",loading:!0},e}return o(t,e),p(t,[{key:"componentWillMount",value:function(){var e=this;fetch("/dictionary.json").then(function(t){return t.json().then(function(t){i=new Set(t.en.split(",")),e.setState({loading:!1})})}).catch(function(e){console.log("fetch dictionary error:",e)})}},{key:"_checkBrainKey",value:function(){var e=this.state.brnkey.split(" "),t=[];e.forEach(function(e,n){if(""!==e){var r=e.toLowerCase();r=r.match(/[a-z]+/),null===r||i.has(r[0])?t.push(c.a.createElement("span",{key:n,style:{padding:"1px",margin:"1px"}},e)):t.push(c.a.createElement(d,{key:n},e))}});var n=void 0,r=!0,a=!0;return t.length>0&&(this.state.brnkey.length<50?(n=this.state.brnkey.length+" characters (50 minimum)",a=!1):t.length<16?n=t.length+" words (16 recommended)":(n=t.length+" words",r=!1)),{warn:r,valid:a,word_count_label:n,checked_words:t}}},{key:"render",value:function(){if(this.state.loading||!i)return c.a.createElement("div",{style:{padding:20}},"Fetching dictionary....");var e=this._checkBrainKey(),t=e.warn,n=e.word_count_label,r=e.checked_words;return c.a.createElement("span",{className:""},c.a.createElement("div",null,c.a.createElement("textarea",{tabIndex:this.props.tabIndex||1,onChange:this.formChange.bind(this),value:this.state.brnkey,id:"brnkey",style:{height:100,minWidth:450}}),c.a.createElement("div",{style:{textAlign:"left"},className:"grid-content no-padding no-overflow"},r),this.state.check_digits&&!this.props.hideCheckDigits?c.a.createElement("div",null,c.a.createElement("br",null),c.a.createElement("pre",{className:"no-overflow"},this.state.check_digits," * Check Digits"),c.a.createElement("br",null)):null,c.a.createElement("p",null,c.a.createElement("i",{className:u()({error:t})},n))))}},{key:"formChange",value:function(e){var t=e.target,n=t.id,r=t.value,a=this._checkBrainKey(),o=a.valid,i={};if(i[n]=r,"brnkey"===n){var s=f.e.normalize_brainKey(r);this.props.onChange(s.length<50?null:s),i.check_digits=s.length<50?null:f.l.sha1(s).toString("hex").substring(0,4)}this.setState(i),this.props.errorCallback&&this.props.errorCallback(o)}}]),t}(s.Component);m.propTypes={onChange:s.PropTypes.func.isRequired},t.a=m;var d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){return c.a.createElement("span",{style:{borderBottom:"1px dotted #ff0000",padding:"1px",margin:"1px"}},c.a.createElement("span",{style:{borderBottom:"1px dotted #ff0000"}},this.props.children))}}]),t}(s.Component)},1190:function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./src/lzma_worker.js":1192};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=1190},1191:function(e,t,n){function r(){var e=n(1193);return n(1190)("."+e.sep+"src"+e.sep+"lzma_worker.js").LZMA_WORKER}
//! Â© 2015 Nathan Rugg <nmrugg@gmail.com> | MIT
var a;a=r(),e.exports.LZMA=function(){return a},e.exports.compress=a.compress,e.exports.decompress=a.decompress},1192:function(e,t,n){(function(e){var t=function(){"use strict";function n(e,t){postMessage({action:Lt,cbn:t,result:e})}function r(e){var t=[];return t[e-1]=void 0,t}function a(e,t){return s(e[0]+t[0],e[1]+t[1])}function o(e,t){return f(~~Math.max(Math.min(e[1]/zt,2147483647),-2147483648)&~~Math.max(Math.min(t[1]/zt,2147483647),-2147483648),u(e)&u(t))}function i(e,t){var n,r;return e[0]==t[0]&&e[1]==t[1]?0:(n=e[1]<0,r=t[1]<0,n&&!r?-1:!n&&r?1:h(e,t)[1]<0?-1:1)}function s(e,t){var n,r;for(t%=0x10000000000000000,e%=0x10000000000000000,n=t%zt,r=Math.floor(e/zt)*zt,t=t-n+r,e=e-r+n;e<0;)e+=zt,t-=zt;for(;e>4294967295;)e-=zt,t+=zt;for(t%=0x10000000000000000;t>0x7fffffff00000000;)t-=0x10000000000000000;for(;t<-0x8000000000000000;)t+=0x10000000000000000;return[e,t]}function c(e,t){return e[0]==t[0]&&e[1]==t[1]}function l(e){return e>=0?[e,0]:[e+zt,-zt]}function u(e){return e[0]>=2147483648?~~Math.max(Math.min(e[0]-zt,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function f(e,t){var n,r;return n=e*zt,r=t,t<0&&(r+=zt),[r,n]}function p(e){return e<=30?1<<e:p(30)*p(e-30)}function m(e,t){var n,r,a,o;if(t&=63,c(e,Wt))return t?Ht:e;if(e[1]<0)throw new Error("Neg");return o=p(t),r=e[1]*o%0x10000000000000000,a=e[0]*o,n=a-a%zt,r+=n,a-=n,r>=0x8000000000000000&&(r-=0x10000000000000000),[a,r]}function d(e,t){var n;return t&=63,n=p(t),s(Math.floor(e[0]/n),e[1]/n)}function _(e,t){var n;return t&=63,n=d(e,t),e[1]<0&&(n=a(n,m([2,0],63-t))),n}function h(e,t){return s(e[0]-t[0],e[1]-t[1])}function v(e,t){return e.buf=t,e.pos=0,e.count=t.length,e}function y(e){return e.pos>=e.count?-1:255&e.buf[e.pos++]}function b(e,t,n,r){return e.pos>=e.count?-1:(r=Math.min(r,e.count-e.pos),S(e.buf,e.pos,t,n,r),e.pos+=r,r)}function g(e){return e.buf=r(32),e.count=0,e}function w(e){var t=e.buf;return t.length=e.count,t}function E(e,t){e.buf[e.count++]=t<<24>>24}function k(e,t,n,r){S(t,n,e.buf,e.count,r),e.count+=r}function P(e,t,n,r,a){var o;for(o=t;o<n;++o)r[a++]=e.charCodeAt(o)}function S(e,t,n,r,a){for(var o=0;o<a;++o)n[r+o]=e[t+o]}function C(e,t){ze(t,1<<e.s),t._numFastBytes=e.f,Fe(t,e.m),t._numLiteralPosStateBits=0,t._numLiteralContextBits=3,t._posStateBits=2,t._posStateMask=3}function O(e,t,n,r,a){var o,s;if(i(r,Ft)<0)throw new Error("invalid length "+r);for(e.length_0=r,o=Ce({}),C(a,o),o._writeEndMark=1,We(o,n),s=0;s<64;s+=8)E(n,255&u(d(r,s)));e.chunker=(o._needReleaseMFStream=0,o._inStream=t,o._finished=0,Se(o),o._rangeEncoder.Stream=n,Te(o),Re(o),Oe(o),o._lenEncoder._tableSize=o._numFastBytes+1-2,Xe(o._lenEncoder,1<<o._posStateBits),o._repMatchLenEncoder._tableSize=o._numFastBytes+1-2,Xe(o._repMatchLenEncoder,1<<o._posStateBits),void(o.nowPos64=Ht),ee({},o))}function R(e,t,n){return e.output=g({}),O(e,v({},t),e.output,l(t.length),n),e}function B(e,t,n){var r,a,o,i,s="",c=[];for(a=0;a<5;++a){if(o=y(t),o==-1)throw new Error("truncated input");c[a]=o<<24>>24}if(r=se({}),!le(r,c))throw new Error("corrupted input");for(a=0;a<64;a+=8){if(o=y(t),o==-1)throw new Error("truncated input");o=o.toString(16),1==o.length&&(o="0"+o),s=o+""+s}/^0+$|^f+$/i.test(s)?e.length_0=Ft:(i=parseInt(s,16),i>4294967295?e.length_0=Ft:e.length_0=l(i)),e.chunker=oe(r,t,n,e.length_0)}function x(e,t){return e.output=g({}),B(e,v({},t),e.output),e}function j(e,t,n,a){var o;e._keepSizeBefore=t,e._keepSizeAfter=n,o=t+n+a,null!=e._bufferBase&&e._blockSize==o||(e._bufferBase=null,e._blockSize=o,e._bufferBase=r(e._blockSize)),e._pointerToLastSafePosition=e._blockSize-n}function M(e,t){return e._bufferBase[e._bufferOffset+e._pos+t]}function N(e,t,n,r){var a,o;for(e._streamEndWasReached&&e._pos+t+r>e._streamPos&&(r=e._streamPos-(e._pos+t)),++n,o=e._bufferOffset+e._pos+t,a=0;a<r&&e._bufferBase[o+a]==e._bufferBase[o+a-n];++a);return a}function T(e){return e._streamPos-e._pos}function A(e){var t,n,r;for(r=e._bufferOffset+e._pos-e._keepSizeBefore,r>0&&--r,n=e._bufferOffset+e._streamPos-r,t=0;t<n;++t)e._bufferBase[t]=e._bufferBase[r+t];e._bufferOffset-=r}function D(e){var t;++e._pos,e._pos>e._posLimit&&(t=e._bufferOffset+e._pos,t>e._pointerToLastSafePosition&&A(e),L(e))}function L(e){var t,n,r;if(!e._streamEndWasReached)for(;;){if(r=-e._bufferOffset+e._blockSize-e._streamPos,!r)return;if(t=b(e._stream,e._bufferBase,e._bufferOffset+e._streamPos,r),t==-1)return e._posLimit=e._streamPos,n=e._bufferOffset+e._posLimit,n>e._pointerToLastSafePosition&&(e._posLimit=e._pointerToLastSafePosition-e._bufferOffset),void(e._streamEndWasReached=1);e._streamPos+=t,e._streamPos>=e._pos+e._keepSizeAfter&&(e._posLimit=e._streamPos-e._keepSizeAfter)}}function I(e,t){e._bufferOffset+=t,e._posLimit-=t,e._pos-=t,e._streamPos-=t}function z(e,t,n,a,o){var i,s,c;t<1073741567&&(e._cutValue=16+(a>>1),c=~~((t+n+a+o)/2)+256,j(e,t+n,a+o,c),e._matchMaxLen=a,i=t+1,e._cyclicBufferSize!=i&&(e._son=r(2*(e._cyclicBufferSize=i))),s=65536,e.HASH_ARRAY&&(s=t-1,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s>>=1,s|=65535,s>16777216&&(s>>=1),e._hashMask=s,++s,s+=e.kFixHashSize),s!=e._hashSizeSum&&(e._hash=r(e._hashSizeSum=s)))}function F(e,t){var n,r,a,o,i,s,c,l,u,f,p,m,d,_,h,v,y,b,g,w,E;if(e._pos+e._matchMaxLen<=e._streamPos)_=e._matchMaxLen;else if(_=e._streamPos-e._pos,_<e.kMinMatchCheck)return H(e),0;for(y=0,h=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,r=e._bufferOffset+e._pos,v=1,l=0,u=0,e.HASH_ARRAY?(E=Kt[255&e._bufferBase[r]]^255&e._bufferBase[r+1],l=1023&E,E^=(255&e._bufferBase[r+2])<<8,u=65535&E,f=(E^Kt[255&e._bufferBase[r+3]]<<5)&e._hashMask):f=255&e._bufferBase[r]^(255&e._bufferBase[r+1])<<8,a=e._hash[e.kFixHashSize+f]||0,e.HASH_ARRAY&&(o=e._hash[l]||0,i=e._hash[1024+u]||0,e._hash[l]=e._pos,e._hash[1024+u]=e._pos,o>h&&e._bufferBase[e._bufferOffset+o]==e._bufferBase[r]&&(t[y++]=v=2,t[y++]=e._pos-o-1),i>h&&e._bufferBase[e._bufferOffset+i]==e._bufferBase[r]&&(i==o&&(y-=2),t[y++]=v=3,t[y++]=e._pos-i-1,o=i),0!=y&&o==a&&(y-=2,v=1)),e._hash[e.kFixHashSize+f]=e._pos,g=(e._cyclicBufferPos<<1)+1,w=e._cyclicBufferPos<<1,m=d=e.kNumHashDirectBytes,0!=e.kNumHashDirectBytes&&a>h&&e._bufferBase[e._bufferOffset+a+e.kNumHashDirectBytes]!=e._bufferBase[r+e.kNumHashDirectBytes]&&(t[y++]=v=e.kNumHashDirectBytes,t[y++]=e._pos-a-1),n=e._cutValue;;){if(a<=h||0==n--){e._son[g]=e._son[w]=0;break}if(c=e._pos-a,s=(c<=e._cyclicBufferPos?e._cyclicBufferPos-c:e._cyclicBufferPos-c+e._cyclicBufferSize)<<1,b=e._bufferOffset+a,p=m<d?m:d,e._bufferBase[b+p]==e._bufferBase[r+p]){for(;++p!=_&&e._bufferBase[b+p]==e._bufferBase[r+p];);if(v<p&&(t[y++]=v=p,t[y++]=c-1,p==_)){e._son[w]=e._son[s],e._son[g]=e._son[s+1];break}}(255&e._bufferBase[b+p])<(255&e._bufferBase[r+p])?(e._son[w]=a,w=s+1,a=e._son[w],d=p):(e._son[g]=a,g=s,a=e._son[g],m=p)}return H(e),y}function W(e){e._bufferOffset=0,e._pos=0,e._streamPos=0,e._streamEndWasReached=0,L(e),e._cyclicBufferPos=0,I(e,-1)}function H(e){var t;++e._cyclicBufferPos>=e._cyclicBufferSize&&(e._cyclicBufferPos=0),D(e),1073741823==e._pos&&(t=e._pos-e._cyclicBufferSize,q(e._son,2*e._cyclicBufferSize,t),q(e._hash,e._hashSizeSum,t),I(e,t))}function q(e,t,n){var r,a;for(r=0;r<t;++r)a=e[r]||0,a<=n?a=0:a-=n,e[r]=a}function K(e,t){e.HASH_ARRAY=t>2,e.HASH_ARRAY?(e.kNumHashDirectBytes=0,e.kMinMatchCheck=4,e.kFixHashSize=66560):(e.kNumHashDirectBytes=2,e.kMinMatchCheck=3,e.kFixHashSize=0)}function G(e,t){var n,r,a,o,i,s,c,l,u,f,p,m,d,_,h,v,y;do{if(e._pos+e._matchMaxLen<=e._streamPos)m=e._matchMaxLen;else if(m=e._streamPos-e._pos,m<e.kMinMatchCheck){H(e);continue}for(d=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,r=e._bufferOffset+e._pos,e.HASH_ARRAY?(y=Kt[255&e._bufferBase[r]]^255&e._bufferBase[r+1],s=1023&y,e._hash[s]=e._pos,y^=(255&e._bufferBase[r+2])<<8,c=65535&y,e._hash[1024+c]=e._pos,l=(y^Kt[255&e._bufferBase[r+3]]<<5)&e._hashMask):l=255&e._bufferBase[r]^(255&e._bufferBase[r+1])<<8,a=e._hash[e.kFixHashSize+l],e._hash[e.kFixHashSize+l]=e._pos,h=(e._cyclicBufferPos<<1)+1,v=e._cyclicBufferPos<<1,f=p=e.kNumHashDirectBytes,n=e._cutValue;;){if(a<=d||0==n--){e._son[h]=e._son[v]=0;break}if(i=e._pos-a,o=(i<=e._cyclicBufferPos?e._cyclicBufferPos-i:e._cyclicBufferPos-i+e._cyclicBufferSize)<<1,_=e._bufferOffset+a,u=f<p?f:p,e._bufferBase[_+u]==e._bufferBase[r+u]){for(;++u!=m&&e._bufferBase[_+u]==e._bufferBase[r+u];);if(u==m){e._son[v]=e._son[o],e._son[h]=e._son[o+1];break}}(255&e._bufferBase[_+u])<(255&e._bufferBase[r+u])?(e._son[v]=a,v=o+1,a=e._son[v],p=u):(e._son[h]=a,h=o,a=e._son[h],f=u)}H(e)}while(0!=--t)}function U(e,t,n){var r=e._pos-t-1;for(r<0&&(r+=e._windowSize);0!=n;--n)r>=e._windowSize&&(r=0),e._buffer[e._pos++]=e._buffer[r++],e._pos>=e._windowSize&&$(e)}function V(e,t){null!=e._buffer&&e._windowSize==t||(e._buffer=r(t)),e._windowSize=t,e._pos=0,e._streamPos=0}function $(e){var t=e._pos-e._streamPos;t&&(k(e._stream,e._buffer,e._streamPos,t),e._pos>=e._windowSize&&(e._pos=0),e._streamPos=e._pos)}function Y(e,t){var n=e._pos-t-1;return n<0&&(n+=e._windowSize),e._buffer[n]}function J(e,t){e._buffer[e._pos++]=t,e._pos>=e._windowSize&&$(e)}function Z(e){$(e),e._stream=null}function X(e){return e-=2,e<4?e:3}function Q(e){return e<4?0:e<10?e-3:e-6}function ee(e,t){return e.encoder=t,e.decoder=null,e.alive=1,e}function te(e,t){return e.decoder=t,e.encoder=null,e.alive=1,e}function ne(e){if(!e.alive)throw new Error("bad state");return e.encoder?ae(e):re(e),e.alive}function re(e){var t=ie(e.decoder);if(t==-1)throw new Error("corrupted input");e.inBytesProcessed=Ft,e.outBytesProcessed=e.decoder.nowPos64,(t||i(e.decoder.outSize,Ht)>=0&&i(e.decoder.nowPos64,e.decoder.outSize)>=0)&&($(e.decoder.m_OutWindow),Z(e.decoder.m_OutWindow),e.decoder.m_RangeDecoder.Stream=null,e.alive=0)}function ae(e){Pe(e.encoder,e.encoder.processedInSize,e.encoder.processedOutSize,e.encoder.finished),e.inBytesProcessed=e.encoder.processedInSize[0],e.encoder.finished[0]&&(Ie(e.encoder),e.alive=0)}function oe(e,t,n,r){return e.m_RangeDecoder.Stream=t,Z(e.m_OutWindow),e.m_OutWindow._stream=n,ce(e),e.state=0,e.rep0=0,e.rep1=0,e.rep2=0,e.rep3=0,e.outSize=r,e.nowPos64=Ht,e.prevByte=0,te({},e)}function ie(e){var t,n,r,o,s,c;if(c=u(e.nowPos64)&e.m_PosStateMask,bt(e.m_RangeDecoder,e.m_IsMatchDecoders,(e.state<<4)+c)){if(bt(e.m_RangeDecoder,e.m_IsRepDecoders,e.state))r=0,bt(e.m_RangeDecoder,e.m_IsRepG0Decoders,e.state)?(bt(e.m_RangeDecoder,e.m_IsRepG1Decoders,e.state)?(bt(e.m_RangeDecoder,e.m_IsRepG2Decoders,e.state)?(n=e.rep3,e.rep3=e.rep2):n=e.rep2,e.rep2=e.rep1):n=e.rep1,e.rep1=e.rep0,e.rep0=n):bt(e.m_RangeDecoder,e.m_IsRep0LongDecoders,(e.state<<4)+c)||(e.state=e.state<7?9:11,r=1),r||(r=me(e.m_RepLenDecoder,e.m_RangeDecoder,c)+2,e.state=e.state<7?8:11);else if(e.rep3=e.rep2,e.rep2=e.rep1,e.rep1=e.rep0,r=2+me(e.m_LenDecoder,e.m_RangeDecoder,c),e.state=e.state<7?7:10,s=lt(e.m_PosSlotDecoder[X(r)],e.m_RangeDecoder),s>=4){if(o=(s>>1)-1,e.rep0=(2|1&s)<<o,s<14)e.rep0+=ft(e.m_PosDecoders,e.rep0-s-1,e.m_RangeDecoder,o);else if(e.rep0+=gt(e.m_RangeDecoder,o-4)<<4,e.rep0+=ut(e.m_PosAlignDecoder,e.m_RangeDecoder),e.rep0<0)return e.rep0==-1?1:-1}else e.rep0=s;if(i(l(e.rep0),e.nowPos64)>=0||e.rep0>=e.m_DictionarySizeCheck)return-1;U(e.m_OutWindow,e.rep0,r),e.nowPos64=a(e.nowPos64,l(r)),e.prevByte=Y(e.m_OutWindow,0)}else t=ve(e.m_LiteralDecoder,u(e.nowPos64),e.prevByte),e.state<7?e.prevByte=be(t,e.m_RangeDecoder):e.prevByte=ge(t,e.m_RangeDecoder,Y(e.m_OutWindow,e.rep0)),J(e.m_OutWindow,e.prevByte),e.state=Q(e.state),e.nowPos64=a(e.nowPos64,qt);return 0}function se(e){e.m_OutWindow={},e.m_RangeDecoder={},e.m_IsMatchDecoders=r(192),e.m_IsRepDecoders=r(12),e.m_IsRepG0Decoders=r(12),e.m_IsRepG1Decoders=r(12),e.m_IsRepG2Decoders=r(12),e.m_IsRep0LongDecoders=r(192),e.m_PosSlotDecoder=r(4),e.m_PosDecoders=r(114),e.m_PosAlignDecoder=ct({},4),e.m_LenDecoder=de({}),e.m_RepLenDecoder=de({}),e.m_LiteralDecoder={};for(var t=0;t<4;++t)e.m_PosSlotDecoder[t]=ct({},6);return e}function ce(e){e.m_OutWindow._streamPos=0,e.m_OutWindow._pos=0,Et(e.m_IsMatchDecoders),Et(e.m_IsRep0LongDecoders),Et(e.m_IsRepDecoders),Et(e.m_IsRepG0Decoders),Et(e.m_IsRepG1Decoders),Et(e.m_IsRepG2Decoders),Et(e.m_PosDecoders),ye(e.m_LiteralDecoder);for(var t=0;t<4;++t)Et(e.m_PosSlotDecoder[t].Models);_e(e.m_LenDecoder),_e(e.m_RepLenDecoder),Et(e.m_PosAlignDecoder.Models),wt(e.m_RangeDecoder)}function le(e,t){var n,r,a,o,i,s,c;if(t.length<5)return 0;for(c=255&t[0],a=c%9,s=~~(c/9),o=s%5,i=~~(s/5),n=0,r=0;r<4;++r)n+=(255&t[1+r])<<8*r;return n>99999999||!fe(e,a,o,i)?0:ue(e,n)}function ue(e,t){return t<0?0:(e.m_DictionarySize!=t&&(e.m_DictionarySize=t,e.m_DictionarySizeCheck=Math.max(e.m_DictionarySize,1),V(e.m_OutWindow,Math.max(e.m_DictionarySizeCheck,4096))),1)}function fe(e,t,n,r){if(t>8||n>4||r>4)return 0;he(e.m_LiteralDecoder,n,t);var a=1<<r;return pe(e.m_LenDecoder,a),pe(e.m_RepLenDecoder,a),e.m_PosStateMask=a-1,1}function pe(e,t){for(;e.m_NumPosStates<t;++e.m_NumPosStates)e.m_LowCoder[e.m_NumPosStates]=ct({},3),e.m_MidCoder[e.m_NumPosStates]=ct({},3)}function me(e,t,n){if(!bt(t,e.m_Choice,0))return lt(e.m_LowCoder[n],t);var r=8;return r+=bt(t,e.m_Choice,1)?8+lt(e.m_HighCoder,t):lt(e.m_MidCoder[n],t)}function de(e){return e.m_Choice=r(2),e.m_LowCoder=r(16),e.m_MidCoder=r(16),e.m_HighCoder=ct({},8),e.m_NumPosStates=0,e}function _e(e){Et(e.m_Choice);for(var t=0;t<e.m_NumPosStates;++t)Et(e.m_LowCoder[t].Models),Et(e.m_MidCoder[t].Models);Et(e.m_HighCoder.Models)}function he(e,t,n){var a,o;if(null==e.m_Coders||e.m_NumPrevBits!=n||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=n,o=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=r(o),a=0;a<o;++a)e.m_Coders[a]=we({})}function ve(e,t,n){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&n)>>>8-e.m_NumPrevBits)]}function ye(e){var t,n;for(n=1<<e.m_NumPrevBits+e.m_NumPosBits,t=0;t<n;++t)Et(e.m_Coders[t].m_Decoders)}function be(e,t){var n=1;do n=n<<1|bt(t,e.m_Decoders,n);while(n<256);return n<<24>>24}function ge(e,t,n){var r,a,o=1;do if(a=n>>7&1,n<<=1,r=bt(t,e.m_Decoders,(1+a<<8)+o),o=o<<1|r,a!=r){for(;o<256;)o=o<<1|bt(t,e.m_Decoders,o);break}while(o<256);return o<<24>>24}function we(e){return e.m_Decoders=r(768),e}function Ee(e,t){var n,r,a,o;e._optimumEndIndex=t,a=e._optimum[t].PosPrev,r=e._optimum[t].BackPrev;do e._optimum[t].Prev1IsChar&&(it(e._optimum[a]),e._optimum[a].PosPrev=a-1,e._optimum[t].Prev2&&(e._optimum[a-1].Prev1IsChar=0,e._optimum[a-1].PosPrev=e._optimum[t].PosPrev2,e._optimum[a-1].BackPrev=e._optimum[t].BackPrev2)),o=a,n=r,r=e._optimum[o].BackPrev,a=e._optimum[o].PosPrev,e._optimum[o].BackPrev=n,e._optimum[o].PosPrev=t,t=o;while(t>0);return e.backRes=e._optimum[0].BackPrev,e._optimumCurrentIndex=e._optimum[0].PosPrev,e._optimumCurrentIndex}function ke(e){e._state=0,e._previousByte=0;for(var t=0;t<4;++t)e._repDistances[t]=0}function Pe(e,t,n,r){var o,s,f,p,m,d,_,v,y,b,g,w,E,k,P;if(t[0]=Ht,n[0]=Ht,r[0]=1,e._inStream&&(e._matchFinder._stream=e._inStream,W(e._matchFinder),e._needReleaseMFStream=1,e._inStream=null),!e._finished){if(e._finished=1,k=e.nowPos64,c(e.nowPos64,Ht)){if(!T(e._matchFinder))return void Be(e,u(e.nowPos64));De(e),E=u(e.nowPos64)&e._posStateMask,kt(e._rangeEncoder,e._isMatch,(e._state<<4)+E,0),e._state=Q(e._state),f=M(e._matchFinder,-e._additionalOffset),nt(et(e._literalEncoder,u(e.nowPos64),e._previousByte),e._rangeEncoder,f),e._previousByte=f,--e._additionalOffset,e.nowPos64=a(e.nowPos64,qt)}if(!T(e._matchFinder))return void Be(e,u(e.nowPos64));for(;;){if(_=xe(e,u(e.nowPos64)),b=e.backRes,E=u(e.nowPos64)&e._posStateMask,s=(e._state<<4)+E,1==_&&b==-1)kt(e._rangeEncoder,e._isMatch,s,0),f=M(e._matchFinder,-e._additionalOffset),P=et(e._literalEncoder,u(e.nowPos64),e._previousByte),e._state<7?nt(P,e._rangeEncoder,f):(y=M(e._matchFinder,-e._repDistances[0]-1-e._additionalOffset),rt(P,e._rangeEncoder,y,f)),e._previousByte=f,e._state=Q(e._state);else{if(kt(e._rangeEncoder,e._isMatch,s,1),b<4){if(kt(e._rangeEncoder,e._isRep,e._state,1),b?(kt(e._rangeEncoder,e._isRepG0,e._state,1),1==b?kt(e._rangeEncoder,e._isRepG1,e._state,0):(kt(e._rangeEncoder,e._isRepG1,e._state,1),kt(e._rangeEncoder,e._isRepG2,e._state,b-2))):(kt(e._rangeEncoder,e._isRepG0,e._state,0),1==_?kt(e._rangeEncoder,e._isRep0Long,s,0):kt(e._rangeEncoder,e._isRep0Long,s,1)),1==_?e._state=e._state<7?9:11:(Ye(e._repMatchLenEncoder,e._rangeEncoder,_-2,E),e._state=e._state<7?8:11),p=e._repDistances[b],0!=b){for(d=b;d>=1;--d)e._repDistances[d]=e._repDistances[d-1];e._repDistances[0]=p}}else{for(kt(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,Ye(e._lenEncoder,e._rangeEncoder,_-2,E),b-=4,w=qe(b),v=X(_),mt(e._posSlotEncoder[v],e._rangeEncoder,w),w>=4&&(m=(w>>1)-1,o=(2|1&w)<<m,g=b-o,w<14?vt(e._posEncoders,o-w-1,e._rangeEncoder,m,g):(Pt(e._rangeEncoder,g>>4,m-4),_t(e._posAlignEncoder,e._rangeEncoder,15&g),++e._alignPriceCount)),p=b,d=3;d>=1;--d)e._repDistances[d]=e._repDistances[d-1];e._repDistances[0]=p,++e._matchPriceCount}e._previousByte=M(e._matchFinder,_-1-e._additionalOffset)}if(e._additionalOffset-=_,e.nowPos64=a(e.nowPos64,l(_)),!e._additionalOffset){if(e._matchPriceCount>=128&&Re(e),e._alignPriceCount>=16&&Oe(e),t[0]=e.nowPos64,n[0]=Ct(e._rangeEncoder),!T(e._matchFinder))return void Be(e,u(e.nowPos64));if(i(h(e.nowPos64,k),[4096,0])>=0)return e._finished=0,void(r[0]=0)}}}}function Se(e){var t,n;e._matchFinder||(t={},n=4,e._matchFinderType||(n=2),K(t,n),e._matchFinder=t),Qe(e._literalEncoder,e._numLiteralPosStateBits,e._numLiteralContextBits),e._dictionarySize==e._dictionarySizePrev&&e._numFastBytesPrev==e._numFastBytes||(z(e._matchFinder,e._dictionarySize,4096,e._numFastBytes,274),e._dictionarySizePrev=e._dictionarySize,e._numFastBytesPrev=e._numFastBytes)}function Ce(e){var t;for(e._repDistances=r(4),e._optimum=[],e._rangeEncoder={},e._isMatch=r(192),e._isRep=r(12),e._isRepG0=r(12),e._isRepG1=r(12),e._isRepG2=r(12),e._isRep0Long=r(192),e._posSlotEncoder=[],e._posEncoders=r(114),e._posAlignEncoder=pt({},4),e._lenEncoder=Je({}),e._repMatchLenEncoder=Je({}),e._literalEncoder={},e._matchDistances=[],e._posSlotPrices=[],e._distancesPrices=[],e._alignPrices=r(16),e.reps=r(4),e.repLens=r(4),e.processedInSize=[Ht],e.processedOutSize=[Ht],e.finished=[0],e.properties=r(5),e.tempPrices=r(128),e._longestMatchLength=0,e._matchFinderType=1,e._numDistancePairs=0,e._numFastBytesPrev=-1,e.backRes=0,t=0;t<4096;++t)e._optimum[t]={};for(t=0;t<4;++t)e._posSlotEncoder[t]=pt({},6);return e}function Oe(e){for(var t=0;t<16;++t)e._alignPrices[t]=ht(e._posAlignEncoder,t);e._alignPriceCount=0}function Re(e){var t,n,r,a,o,i,s,c;for(a=4;a<128;++a)i=qe(a),r=(i>>1)-1,t=(2|1&i)<<r,e.tempPrices[a]=yt(e._posEncoders,t-i-1,r,a-t);for(o=0;o<4;++o){for(n=e._posSlotEncoder[o],s=o<<6,i=0;i<e._distTableSize;++i)e._posSlotPrices[s+i]=dt(n,i);for(i=14;i<e._distTableSize;++i)e._posSlotPrices[s+i]+=(i>>1)-1-4<<6;for(c=128*o,a=0;a<4;++a)e._distancesPrices[c+a]=e._posSlotPrices[s+a];for(;a<128;++a)e._distancesPrices[c+a]=e._posSlotPrices[s+qe(a)]+e.tempPrices[a]}e._matchPriceCount=0}function Be(e,t){Le(e),He(e,t&e._posStateMask),St(e._rangeEncoder)}function xe(e,t){var n,r,a,o,i,s,c,l,u,f,p,m,d,_,h,v,y,b,g,w,E,k,P,S,C,O,R,B,x,j,A,D,L,I,z,F,W,H,q,K,G,U,V,$,Y,J,Z,X,ee,te;if(e._optimumEndIndex!=e._optimumCurrentIndex)return d=e._optimum[e._optimumCurrentIndex].PosPrev-e._optimumCurrentIndex,e.backRes=e._optimum[e._optimumCurrentIndex].BackPrev,e._optimumCurrentIndex=e._optimum[e._optimumCurrentIndex].PosPrev,d;if(e._optimumCurrentIndex=e._optimumEndIndex=0,e._longestMatchWasFound?(m=e._longestMatchLength,e._longestMatchWasFound=0):m=De(e),R=e._numDistancePairs,C=T(e._matchFinder)+1,C<2)return e.backRes=-1,1;for(C>273&&(C=273),K=0,u=0;u<4;++u)e.reps[u]=e._repDistances[u],e.repLens[u]=N(e._matchFinder,-1,e.reps[u],273),e.repLens[u]>e.repLens[K]&&(K=u);if(e.repLens[K]>=e._numFastBytes)return e.backRes=K,d=e.repLens[K],Ae(e,d-1),d;if(m>=e._numFastBytes)return e.backRes=e._matchDistances[R-1]+4,Ae(e,m-1),m;if(c=M(e._matchFinder,-1),y=M(e._matchFinder,-e._repDistances[0]-1-1),m<2&&c!=y&&e.repLens[K]<2)return e.backRes=-1,1;if(e._optimum[0].State=e._state,I=t&e._posStateMask,e._optimum[1].Price=Ut[e._isMatch[(e._state<<4)+I]>>>2]+ot(et(e._literalEncoder,t,e._previousByte),e._state>=7,y,c),it(e._optimum[1]),b=Ut[2048-e._isMatch[(e._state<<4)+I]>>>2],q=b+Ut[2048-e._isRep[e._state]>>>2],y==c&&(G=q+Ne(e,e._state,I),G<e._optimum[1].Price&&(e._optimum[1].Price=G,st(e._optimum[1]))),p=m>=e.repLens[K]?m:e.repLens[K],p<2)return e.backRes=e._optimum[1].BackPrev,1;e._optimum[1].PosPrev=0,e._optimum[0].Backs0=e.reps[0],e._optimum[0].Backs1=e.reps[1],e._optimum[0].Backs2=e.reps[2],e._optimum[0].Backs3=e.reps[3],f=p;do e._optimum[f--].Price=268435455;while(f>=2);for(u=0;u<4;++u)if(H=e.repLens[u],!(H<2)){F=q+Me(e,u,e._state,I);do o=F+Ze(e._repMatchLenEncoder,H-2,I),A=e._optimum[H],o<A.Price&&(A.Price=o,A.PosPrev=0,A.BackPrev=u,A.Prev1IsChar=0);while(--H>=2)}if(S=b+Ut[e._isRep[e._state]>>>2],f=e.repLens[0]>=2?e.repLens[0]+1:2,f<=m){for(B=0;f>e._matchDistances[B];)B+=2;for(;l=e._matchDistances[B+1],o=S+je(e,l,f,I),A=e._optimum[f],o<A.Price&&(A.Price=o,A.PosPrev=0,A.BackPrev=l+4,A.Prev1IsChar=0),f!=e._matchDistances[B]||(B+=2,B!=R);++f);}for(n=0;;){if(++n,n==p)return Ee(e,n);if(g=De(e),R=e._numDistancePairs,g>=e._numFastBytes)return e._longestMatchLength=g,e._longestMatchWasFound=1,Ee(e,n);if(++t,L=e._optimum[n].PosPrev,e._optimum[n].Prev1IsChar?(--L,e._optimum[n].Prev2?(V=e._optimum[e._optimum[n].PosPrev2].State,V=e._optimum[n].BackPrev2<4?V<7?8:11:V<7?7:10):V=e._optimum[L].State,V=Q(V)):V=e._optimum[L].State,L==n-1?V=e._optimum[n].BackPrev?Q(V):V<7?9:11:(e._optimum[n].Prev1IsChar&&e._optimum[n].Prev2?(L=e._optimum[n].PosPrev2,D=e._optimum[n].BackPrev2,V=V<7?8:11):(D=e._optimum[n].BackPrev,V=D<4?V<7?8:11:V<7?7:10),j=e._optimum[L],D<4?D?1==D?(e.reps[0]=j.Backs1,e.reps[1]=j.Backs0,e.reps[2]=j.Backs2,e.reps[3]=j.Backs3):2==D?(e.reps[0]=j.Backs2,e.reps[1]=j.Backs0,e.reps[2]=j.Backs1,e.reps[3]=j.Backs3):(e.reps[0]=j.Backs3,e.reps[1]=j.Backs0,e.reps[2]=j.Backs1,e.reps[3]=j.Backs2):(e.reps[0]=j.Backs0,e.reps[1]=j.Backs1,e.reps[2]=j.Backs2,e.reps[3]=j.Backs3):(e.reps[0]=D-4,e.reps[1]=j.Backs0,e.reps[2]=j.Backs1,e.reps[3]=j.Backs2)),e._optimum[n].State=V,e._optimum[n].Backs0=e.reps[0],e._optimum[n].Backs1=e.reps[1],e._optimum[n].Backs2=e.reps[2],e._optimum[n].Backs3=e.reps[3],s=e._optimum[n].Price,c=M(e._matchFinder,-1),y=M(e._matchFinder,-e.reps[0]-1-1),I=t&e._posStateMask,r=s+Ut[e._isMatch[(V<<4)+I]>>>2]+ot(et(e._literalEncoder,t,M(e._matchFinder,-2)),V>=7,y,c),k=e._optimum[n+1],w=0,r<k.Price&&(k.Price=r,k.PosPrev=n,k.BackPrev=-1,k.Prev1IsChar=0,w=1),b=s+Ut[2048-e._isMatch[(V<<4)+I]>>>2],q=b+Ut[2048-e._isRep[V]>>>2],y!=c||k.PosPrev<n&&!k.BackPrev||(G=q+(Ut[e._isRepG0[V]>>>2]+Ut[e._isRep0Long[(V<<4)+I]>>>2]),G<=k.Price&&(k.Price=G,k.PosPrev=n,k.BackPrev=0,k.Prev1IsChar=0,w=1)),O=T(e._matchFinder)+1,O=4095-n<O?4095-n:O,C=O,!(C<2)){if(C>e._numFastBytes&&(C=e._numFastBytes),!w&&y!=c&&(Y=Math.min(O-1,e._numFastBytes),h=N(e._matchFinder,0,e.reps[0],Y),h>=2)){for($=Q(V),z=t+1&e._posStateMask,P=r+Ut[2048-e._isMatch[($<<4)+z]>>>2]+Ut[2048-e._isRep[$]>>>2],x=n+1+h;p<x;)e._optimum[++p].Price=268435455;o=P+(J=Ze(e._repMatchLenEncoder,h-2,z),J+Me(e,0,$,z)),A=e._optimum[x],o<A.Price&&(A.Price=o,A.PosPrev=n+1,A.BackPrev=0,A.Prev1IsChar=1,A.Prev2=0)}for(U=2,W=0;W<4;++W)if(_=N(e._matchFinder,-1,e.reps[W],C),!(_<2)){v=_;do{for(;p<n+_;)e._optimum[++p].Price=268435455;o=q+(Z=Ze(e._repMatchLenEncoder,_-2,I),Z+Me(e,W,V,I)),A=e._optimum[n+_],o<A.Price&&(A.Price=o,A.PosPrev=n,A.BackPrev=W,A.Prev1IsChar=0)}while(--_>=2);if(_=v,W||(U=_+1),_<O&&(Y=Math.min(O-1-_,e._numFastBytes),h=N(e._matchFinder,_,e.reps[W],Y),h>=2)){for($=V<7?8:11,z=t+_&e._posStateMask,a=q+(X=Ze(e._repMatchLenEncoder,_-2,I),X+Me(e,W,V,I))+Ut[e._isMatch[($<<4)+z]>>>2]+ot(et(e._literalEncoder,t+_,M(e._matchFinder,_-1-1)),1,M(e._matchFinder,_-1-(e.reps[W]+1)),M(e._matchFinder,_-1)),$=Q($),z=t+_+1&e._posStateMask,E=a+Ut[2048-e._isMatch[($<<4)+z]>>>2],P=E+Ut[2048-e._isRep[$]>>>2],x=_+1+h;p<n+x;)e._optimum[++p].Price=268435455;o=P+(ee=Ze(e._repMatchLenEncoder,h-2,z),ee+Me(e,0,$,z)),A=e._optimum[n+x],o<A.Price&&(A.Price=o,A.PosPrev=n+_+1,A.BackPrev=0,A.Prev1IsChar=1,A.Prev2=1,A.PosPrev2=n,A.BackPrev2=W)}}if(g>C){for(g=C,R=0;g>e._matchDistances[R];R+=2);e._matchDistances[R]=g,R+=2}if(g>=U){for(S=b+Ut[e._isRep[V]>>>2];p<n+g;)e._optimum[++p].Price=268435455;for(B=0;U>e._matchDistances[B];)B+=2;for(_=U;;++_)if(i=e._matchDistances[B+1],o=S+je(e,i,_,I),A=e._optimum[n+_],o<A.Price&&(A.Price=o,A.PosPrev=n,A.BackPrev=i+4,A.Prev1IsChar=0),_==e._matchDistances[B]){if(_<O&&(Y=Math.min(O-1-_,e._numFastBytes),h=N(e._matchFinder,_,i,Y),h>=2)){for($=V<7?7:10,z=t+_&e._posStateMask,a=o+Ut[e._isMatch[($<<4)+z]>>>2]+ot(et(e._literalEncoder,t+_,M(e._matchFinder,_-1-1)),1,M(e._matchFinder,_-(i+1)-1),M(e._matchFinder,_-1)),$=Q($),z=t+_+1&e._posStateMask,E=a+Ut[2048-e._isMatch[($<<4)+z]>>>2],P=E+Ut[2048-e._isRep[$]>>>2],x=_+1+h;p<n+x;)e._optimum[++p].Price=268435455;o=P+(te=Ze(e._repMatchLenEncoder,h-2,z),te+Me(e,0,$,z)),A=e._optimum[n+x],o<A.Price&&(A.Price=o,A.PosPrev=n+_+1,A.BackPrev=0,A.Prev1IsChar=1,A.Prev2=1,A.PosPrev2=n,A.BackPrev2=i+4)}if(B+=2,B==R)break}}}}}function je(e,t,n,r){var a,o=X(n);return a=t<128?e._distancesPrices[128*o+t]:e._posSlotPrices[(o<<6)+Ke(t)]+e._alignPrices[15&t],a+Ze(e._lenEncoder,n-2,r)}function Me(e,t,n,r){var a;return t?(a=Ut[2048-e._isRepG0[n]>>>2],1==t?a+=Ut[e._isRepG1[n]>>>2]:(a+=Ut[2048-e._isRepG1[n]>>>2],a+=Bt(e._isRepG2[n],t-2))):(a=Ut[e._isRepG0[n]>>>2],a+=Ut[2048-e._isRep0Long[(n<<4)+r]>>>2]),a}function Ne(e,t,n){return Ut[e._isRepG0[t]>>>2]+Ut[e._isRep0Long[(t<<4)+n]>>>2]}function Te(e){ke(e),Ot(e._rangeEncoder),Et(e._isMatch),Et(e._isRep0Long),Et(e._isRep),Et(e._isRepG0),Et(e._isRepG1),Et(e._isRepG2),Et(e._posEncoders),tt(e._literalEncoder);for(var t=0;t<4;++t)Et(e._posSlotEncoder[t].Models);Ve(e._lenEncoder,1<<e._posStateBits),Ve(e._repMatchLenEncoder,1<<e._posStateBits),Et(e._posAlignEncoder.Models),e._longestMatchWasFound=0,e._optimumEndIndex=0,e._optimumCurrentIndex=0,e._additionalOffset=0}function Ae(e,t){t>0&&(G(e._matchFinder,t),e._additionalOffset+=t)}function De(e){var t=0;return e._numDistancePairs=F(e._matchFinder,e._matchDistances),e._numDistancePairs>0&&(t=e._matchDistances[e._numDistancePairs-2],t==e._numFastBytes&&(t+=N(e._matchFinder,t-1,e._matchDistances[e._numDistancePairs-1],273-t))),++e._additionalOffset,t}function Le(e){e._matchFinder&&e._needReleaseMFStream&&(e._matchFinder._stream=null,e._needReleaseMFStream=0)}function Ie(e){Le(e),e._rangeEncoder.Stream=null}function ze(e,t){e._dictionarySize=t;for(var n=0;t>1<<n;++n);e._distTableSize=2*n}function Fe(e,t){var n=e._matchFinderType;e._matchFinderType=t,e._matchFinder&&n!=e._matchFinderType&&(e._dictionarySizePrev=-1,e._matchFinder=null)}function We(e,t){e.properties[0]=9*(5*e._posStateBits+e._numLiteralPosStateBits)+e._numLiteralContextBits<<24>>24;for(var n=0;n<4;++n)e.properties[1+n]=e._dictionarySize>>8*n<<24>>24;k(t,e.properties,0,5)}function He(e,t){if(e._writeEndMark){kt(e._rangeEncoder,e._isMatch,(e._state<<4)+t,1),kt(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,Ye(e._lenEncoder,e._rangeEncoder,0,t);var n=X(2);mt(e._posSlotEncoder[n],e._rangeEncoder,63),Pt(e._rangeEncoder,67108863,26),_t(e._posAlignEncoder,e._rangeEncoder,15)}}function qe(e){return e<2048?Gt[e]:e<2097152?Gt[e>>10]+20:Gt[e>>20]+40}function Ke(e){return e<131072?Gt[e>>6]+12:e<134217728?Gt[e>>16]+32:Gt[e>>26]+52}function Ge(e,t,n,r){n<8?(kt(t,e._choice,0,0),mt(e._lowCoder[r],t,n)):(n-=8,kt(t,e._choice,0,1),n<8?(kt(t,e._choice,1,0),mt(e._midCoder[r],t,n)):(kt(t,e._choice,1,1),mt(e._highCoder,t,n-8)))}function Ue(e){e._choice=r(2),e._lowCoder=r(16),e._midCoder=r(16),e._highCoder=pt({},8);for(var t=0;t<16;++t)e._lowCoder[t]=pt({},3),e._midCoder[t]=pt({},3);return e}function Ve(e,t){Et(e._choice);for(var n=0;n<t;++n)Et(e._lowCoder[n].Models),Et(e._midCoder[n].Models);Et(e._highCoder.Models)}function $e(e,t,n,r,a){var o,i,s,c,l;for(o=Ut[e._choice[0]>>>2],i=Ut[2048-e._choice[0]>>>2],s=i+Ut[e._choice[1]>>>2],c=i+Ut[2048-e._choice[1]>>>2],l=0,l=0;l<8;++l){if(l>=n)return;r[a+l]=o+dt(e._lowCoder[t],l)}for(;l<16;++l){if(l>=n)return;r[a+l]=s+dt(e._midCoder[t],l-8)}for(;l<n;++l)r[a+l]=c+dt(e._highCoder,l-8-8)}function Ye(e,t,n,r){Ge(e,t,n,r),0==--e._counters[r]&&($e(e,r,e._tableSize,e._prices,272*r),e._counters[r]=e._tableSize)}function Je(e){return Ue(e),e._prices=[],e._counters=[],e}function Ze(e,t,n){return e._prices[272*n+t]}function Xe(e,t){for(var n=0;n<t;++n)$e(e,n,e._tableSize,e._prices,272*n),e._counters[n]=e._tableSize}function Qe(e,t,n){var a,o;if(null==e.m_Coders||e.m_NumPrevBits!=n||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=n,o=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=r(o),a=0;a<o;++a)e.m_Coders[a]=at({})}function et(e,t,n){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&n)>>>8-e.m_NumPrevBits)]}function tt(e){var t,n=1<<e.m_NumPrevBits+e.m_NumPosBits;for(t=0;t<n;++t)Et(e.m_Coders[t].m_Encoders)}function nt(e,t,n){var r,a,o=1;for(a=7;a>=0;--a)r=n>>a&1,kt(t,e.m_Encoders,o,r),o=o<<1|r}function rt(e,t,n,r){var a,o,i,s,c=1,l=1;for(o=7;o>=0;--o)a=r>>o&1,s=l,c&&(i=n>>o&1,s+=1+i<<8,c=i==a),kt(t,e.m_Encoders,s,a),l=l<<1|a}function at(e){return e.m_Encoders=r(768),e}function ot(e,t,n,r){var a,o,i=1,s=7,c=0;if(t)for(;s>=0;--s)if(o=n>>s&1,a=r>>s&1,c+=Bt(e.m_Encoders[(1+o<<8)+i],a),i=i<<1|a,o!=a){--s;break}for(;s>=0;--s)a=r>>s&1,c+=Bt(e.m_Encoders[i],a),i=i<<1|a;return c}function it(e){e.BackPrev=-1,e.Prev1IsChar=0}function st(e){e.BackPrev=0,e.Prev1IsChar=0}function ct(e,t){return e.NumBitLevels=t,e.Models=r(1<<t),e}function lt(e,t){var n,r=1;for(n=e.NumBitLevels;0!=n;--n)r=(r<<1)+bt(t,e.Models,r);return r-(1<<e.NumBitLevels)}function ut(e,t){var n,r,a=1,o=0;for(r=0;r<e.NumBitLevels;++r)n=bt(t,e.Models,a),a<<=1,a+=n,o|=n<<r;return o}function ft(e,t,n,r){var a,o,i=1,s=0;for(o=0;o<r;++o)a=bt(n,e,t+i),i<<=1,i+=a,s|=a<<o;return s}function pt(e,t){return e.NumBitLevels=t,e.Models=r(1<<t),e}function mt(e,t,n){var r,a,o=1;for(a=e.NumBitLevels;0!=a;)--a,r=n>>>a&1,kt(t,e.Models,o,r),o=o<<1|r}function dt(e,t){var n,r,a=1,o=0;for(r=e.NumBitLevels;0!=r;)--r,n=t>>>r&1,o+=Bt(e.Models[a],n),a=(a<<1)+n;return o}function _t(e,t,n){var r,a,o=1;for(a=0;a<e.NumBitLevels;++a)r=1&n,kt(t,e.Models,o,r),o=o<<1|r,n>>=1}function ht(e,t){var n,r,a=1,o=0;for(r=e.NumBitLevels;0!=r;--r)n=1&t,t>>>=1,o+=Bt(e.Models[a],n),a=a<<1|n;return o}function vt(e,t,n,r,a){var o,i,s=1;for(i=0;i<r;++i)o=1&a,kt(n,e,t+s,o),s=s<<1|o,a>>=1}function yt(e,t,n,r){var a,o,i=1,s=0;for(o=n;0!=o;--o)a=1&r,r>>>=1,s+=Ut[(2047&(e[t+i]-a^-a))>>>2],i=i<<1|a;return s}function bt(e,t,n){var r,a=t[n];return r=(e.Range>>>11)*a,(e.Code^-2147483648)<(r^-2147483648)?(e.Range=r,t[n]=a+(2048-a>>>5)<<16>>16,e.Range&-16777216||(e.Code=e.Code<<8|y(e.Stream),e.Range<<=8),0):(e.Range-=r,e.Code-=r,t[n]=a-(a>>>5)<<16>>16,e.Range&-16777216||(e.Code=e.Code<<8|y(e.Stream),e.Range<<=8),1)}function gt(e,t){var n,r,a=0;for(n=t;0!=n;--n)e.Range>>>=1,r=e.Code-e.Range>>>31,e.Code-=e.Range&r-1,a=a<<1|1-r,e.Range&-16777216||(e.Code=e.Code<<8|y(e.Stream),e.Range<<=8);return a}function wt(e){e.Code=0,e.Range=-1;for(var t=0;t<5;++t)e.Code=e.Code<<8|y(e.Stream)}function Et(e){for(var t=e.length-1;t>=0;--t)e[t]=1024}function kt(e,t,n,r){var i,s=t[n];i=(e.Range>>>11)*s,r?(e.Low=a(e.Low,o(l(i),[4294967295,0])),e.Range-=i,t[n]=s-(s>>>5)<<16>>16):(e.Range=i,t[n]=s+(2048-s>>>5)<<16>>16),e.Range&-16777216||(e.Range<<=8,Rt(e))}function Pt(e,t,n){for(var r=n-1;r>=0;--r)e.Range>>>=1,1==(t>>>r&1)&&(e.Low=a(e.Low,l(e.Range))),e.Range&-16777216||(e.Range<<=8,Rt(e))}function St(e){for(var t=0;t<5;++t)Rt(e)}function Ct(e){return a(a(l(e._cacheSize),e._position),[4,0])}function Ot(e){e._position=Ht,e.Low=Ht,e.Range=-1,e._cacheSize=1,e._cache=0}function Rt(e){var t,n=u(_(e.Low,32));if(0!=n||i(e.Low,[4278190080,0])<0){e._position=a(e._position,l(e._cacheSize)),t=e._cache;do E(e.Stream,t+n),t=255;while(0!=--e._cacheSize);e._cache=u(e.Low)>>>24}++e._cacheSize,e.Low=m(o(e.Low,[16777215,0]),8)}function Bt(e,t){return Ut[(2047&(e-t^-t))>>>2];
}function xt(e){var t,n,r,a,o="",i=e.length;for(t=0;t<i;++t)if(n=255&e[t],128&n)if(192==(224&n)){if(t+1>=e.length)return e;if(r=255&e[++t],128!=(192&r))return e;o+=String.fromCharCode((31&n)<<6&65535|63&r)}else{if(224!=(240&n))return e;if(t+2>=e.length)return e;if(r=255&e[++t],128!=(192&r))return e;if(a=255&e[++t],128!=(192&a))return e;o+=String.fromCharCode(65535&((15&n)<<12|(63&r)<<6|63&a))}else{if(!n)return e;o+=String.fromCharCode(65535&n)}return o}function jt(e){var t,n,r,a=[],o=0,i=e.length;if("object"==typeof e)return e;for(P(e,0,i,a,0),r=0;r<i;++r)t=a[r],t>=1&&t<=127?++o:o+=!t||t>=128&&t<=2047?2:3;for(n=[],o=0,r=0;r<i;++r)t=a[r],t>=1&&t<=127?n[o++]=t<<24>>24:!t||t>=128&&t<=2047?(n[o++]=(192|t>>6&31)<<24>>24,n[o++]=(128|63&t)<<24>>24):(n[o++]=(224|t>>12&15)<<24>>24,n[o++]=(128|t>>6&63)<<24>>24,n[o++]=(128|63&t)<<24>>24);return n}function Mt(e){return e[1]+e[0]}function Nt(e,t,r,a){function o(){for(var e,t=(new Date).getTime();ne(c.c.chunker);)if(i=Mt(c.c.chunker.inBytesProcessed)/Mt(c.c.length_0),(new Date).getTime()-t>200)return a?a(i):"undefined"!=typeof s&&n(i,s),It(o,0),0;a?a(1):"undefined"!=typeof s&&n(1,s),e=w(c.c.output),r?r(e):"undefined"!=typeof s&&postMessage({action:At,cbn:s,result:e})}var i,s,c={};"function"!=typeof r&&(s=r,r=a=0),c.c=R({},jt(e),Vt(t)),a?a(0):"undefined"!=typeof s&&n(0,s),It(o,0)}function Tt(e,t,r){function a(){for(var e,u=0,f=(new Date).getTime();ne(l.d.chunker);)if(++u%1e3==0&&(new Date).getTime()-f>200)return s&&(o=Mt(l.d.chunker.decoder.nowPos64)/c,r?r(o):"undefined"!=typeof i&&n(o,i)),It(a,0),0;s&&(r?r(1):"undefined"!=typeof i&&n(1,i)),e=xt(w(l.d.output)),t?t(e):"undefined"!=typeof i&&postMessage({action:Dt,cbn:i,result:e})}var o,i,s,c,l={};"function"!=typeof t&&(i=t,t=r=0),l.d=x({},e),c=Mt(l.d.length_0),s=c>-1,r?r(s?0:-1):"undefined"!=typeof i&&n(s?0:-1,i),It(a,0)}var At=1,Dt=2,Lt=3,It="function"==typeof e?e:setTimeout,zt=4294967296,Ft=[4294967295,-zt],Wt=[0,-0x8000000000000000],Ht=[0,0],qt=[1,0],Kt=function(){var e,t,n,r=[];for(e=0;e<256;++e){for(n=e,t=0;t<8;++t)0!=(1&n)?n=n>>>1^-306674912:n>>>=1;r[e]=n}return r}(),Gt=function(){var e,t,n,r=2,a=[0,1];for(n=2;n<22;++n)for(t=1<<(n>>1)-1,e=0;e<t;++e,++r)a[r]=n<<24>>24;return a}(),Ut=function(){var e,t,n,r,a=[];for(t=8;t>=0;--t)for(r=1<<9-t-1,e=1<<9-t,n=r;n<e;++n)a[n]=(t<<6)+(e-n<<6>>>9-t-1);return a}(),Vt=function(){var e=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}];return function(t){return e[t-1]||e[6]}}();return"undefined"==typeof onmessage||"undefined"!=typeof window&&"undefined"!=typeof window.document||!function(){onmessage=function(e){e&&e.data&&(e.data.action==Dt?t.decompress(e.data.data,e.data.cbn):e.data.action==At&&t.compress(e.data.data,e.data.mode,e.data.cbn))}}(),{compress:Nt,decompress:Tt}}();this.LZMA=this.LZMA_WORKER=t}).call(t,n(391).setImmediate)},1193:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var i=o>=0?arguments[o]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,a="/"===i.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),o=r(n.split("/")),i=Math.min(a.length,o.length),s=i,c=0;c<i;c++)if(a[c]!==o[c]){s=c;break}for(var l=[],c=s;c<a.length;c++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(38))},1197:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){try{return f.f.fromBuffer(e.slice(0,33))}catch(e){console.error(e,e.stack)}}var s=n(9),c=n.n(s),l=n(1178),u=n(64),f=n(8),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e._getInitialState(),e.bindListeners({onIncommingFile:l.a.incommingWebFile,onIncommingBuffer:l.a.incommingBuffer,onReset:l.a.reset}),e._export("setWalletObjct"),e}return o(t,e),p(t,[{key:"_getInitialState",value:function(){return{name:null,contents:null,sha1:null,size:null,last_modified:null,public_key:null,wallet_object:null}}},{key:"setWalletObjct",value:function(e){this.setState({wallet_object:e})}},{key:"onReset",value:function(){this.setState(this._getInitialState())}},{key:"onIncommingFile",value:function(e){var t=e.name,n=e.contents,r=e.last_modified,a=f.l.sha1(n).toString("hex"),o=n.length,s=i(n);this.setState({name:t,contents:n,sha1:a,size:o,last_modified:r,public_key:s})}},{key:"onIncommingBuffer",value:function(e){var t=e.name,n=e.contents,r=e.public_key;this.onReset();var a=f.l.sha1(n).toString("hex"),o=n.length;r||(r=i(n)),this.setState({name:t,contents:n,sha1:a,size:o,public_key:r})}}]),t}(u.a),d=c.a.createStore(m,"BackupStore");t.a=d},1199:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(1179),c=r(s),l=i.default.createClass({displayName:"IndexLink",render:function(){return i.default.createElement(c.default,a({},this.props,{onlyActiveOnIndex:!0}))}});t.default=l,e.exports=t.default},1200:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),o=r(a),i=n(1137),s=(r(i),n(21)),c=r(s),l=n(1181),u=r(l),f=n(1153),p=o.default.PropTypes,m=p.string,d=p.object,_=o.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=u.default.createRouteFromReactElement(e))}},propTypes:{to:m.isRequired,query:d,state:d,onEnter:f.falsy,children:f.falsy},render:function(){(0,c.default)(!1)}});t.default=_,e.exports=t.default},1201:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),o=r(a),i=n(1137),s=(r(i),n(21)),c=r(s),l=n(1127),u=n(1153),f=o.default.PropTypes.func,p=o.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,l.createRouteFromReactElement)(e))}},propTypes:{path:u.falsy,component:u.component,components:u.components,getComponent:f,getComponents:f},render:function(){(0,c.default)(!1)}});t.default=p,e.exports=t.default},1202:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),o=r(a),i=n(21),s=r(i),c=n(1127),l=n(1153),u=o.default.PropTypes,f=u.string,p=u.func,m=o.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:c.createRouteFromReactElement},propTypes:{path:f,component:l.component,components:l.components,getComponent:p,getComponents:p},render:function(){(0,s.default)(!1)}});t.default=m,e.exports=t.default},1203:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(21),s=r(i),c=n(1),l=r(c),u=n(1185),f=r(u),p=n(1153),m=n(1174),d=r(m),_=n(1127),h=n(1182),v=n(1137),y=(r(v),l.default.PropTypes),b=y.func,g=y.object,w=l.default.createClass({displayName:"Router",propTypes:{history:g,children:p.routes,routes:p.routes,render:b,createElement:b,onError:b,onUpdate:b,matchContext:g},getDefaultProps:function(){return{render:function(e){return l.default.createElement(d.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return(0,h.createRouterObject)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,a=n.children;return t.getCurrentLocation?void 0:(0,s.default)(!1),(0,f.default)(t,(0,_.createRoutes)(r||a))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):((0,h.assignRouterState)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,i=t.params,s=t.components,c=this.props,l=c.createElement,e=c.render,u=a(c,["createElement","render"]);return null==n?null:(Object.keys(w.propTypes).forEach(function(e){return delete u[e]}),e(o({},u,{router:this.router,location:n,routes:r,params:i,components:s,createElement:l})))}});t.default=w,e.exports=t.default},1204:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n,r){var a=e.length<n,o=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(e.apply(t,r),a){var i=r[r.length-1];i()}};return r.add(o),o}function o(e){return e.reduce(function(e,t){return t.onEnter&&e.push(a(t.onEnter,t,3,m)),e},[])}function i(e){return e.reduce(function(e,t){return t.onChange&&e.push(a(t.onChange,t,4,d)),e},[])}function s(e,t,n){function r(e){a=e}if(!e)return void n();var a=void 0;(0,f.loopAsync)(e,function(e,n,o){t(e,r,function(e){e||a?o(e,a):n()})},n)}function c(e,t,n){m.clear();var r=o(e);return s(r.length,function(e,n,a){var o=function(){m.has(r[e])&&(a.apply(void 0,arguments),m.remove(r[e]))};r[e](t,n,o)},n)}function l(e,t,n,r){d.clear();var a=i(e);return s(a.length,function(e,r,o){var i=function(){d.has(a[e])&&(o.apply(void 0,arguments),d.remove(a[e]))};a[e](t,n,r,i)},r)}function u(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.__esModule=!0,t.runEnterHooks=c,t.runChangeHooks=l,t.runLeaveHooks=u;var f=n(1171),p=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return t.hooks.indexOf(e)!==-1},this.clear=function(){return t.hooks=[]}},m=new p,d=new p},1205:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=r(o),s=n(1174),c=r(s),l=n(1137);r(l);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.createElement;return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e)},i.default.createElement(c.default,a({},e,{createElement:l(e.createElement)})))}},e.exports=t.default},1206:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(394),o=r(a),i=n(1184),s=r(i);t.default=(0,s.default)(o.default),e.exports=t.default},1207:function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,o.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function a(e,t){var n=e&&e.routes,a=t.routes,o=void 0,i=void 0,s=void 0;return n?!function(){var c=!1;o=n.filter(function(n){if(c)return!0;var o=a.indexOf(n)===-1||r(n,e,t);return o&&(c=!0),o}),o.reverse(),s=[],i=[],a.forEach(function(e){var t=n.indexOf(e)===-1,r=o.indexOf(e)!==-1;t||r?s.push(e):i.push(e)})}():(o=[],i=[],s=a),{leaveRoutes:o,changeRoutes:i,enterRoutes:s}}t.__esModule=!0;var o=n(1136);t.default=a,e.exports=t.default},1208:function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var a=r.call(t,e,n);(0,i.isPromise)(a)&&a.then(function(e){return n(null,e)},n)}else n()}function a(e,t){(0,o.mapAsync)(e.routes,function(t,n,a){r(e,t,a)},t)}t.__esModule=!0;var o=n(1171),i=n(1180);t.default=a,e.exports=t.default},1209:function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,a.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var a=n(1136);t.default=r,e.exports=t.default},1210:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(395),o=r(a),i=n(1184),s=r(i);t.default=(0,s.default)(o.default),e.exports=t.default},1211:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.RouterContext=t.createRoutes=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var a=n(1127);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return a.createRoutes}});var o=n(1173);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var i=n(1136);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return i.formatPattern}});var s=n(1203),c=r(s),l=n(1179),u=r(l),f=n(1199),p=r(f),m=n(1215),d=r(m),_=n(1200),h=r(_),v=n(1201),y=r(v),b=n(1181),g=r(b),w=n(1202),E=r(w),k=n(1174),P=r(k),S=n(1213),C=r(S),O=n(1186),R=r(O),B=n(1205),x=r(B),j=n(1206),M=r(j),N=n(1210),T=r(N),A=n(1183),D=r(A);t.Router=c.default,t.Link=u.default,t.IndexLink=p.default,t.withRouter=d.default,t.IndexRedirect=h.default,t.IndexRoute=y.default,t.Redirect=g.default,t.Route=E.default,t.RouterContext=P.default,t.match=C.default,t.useRouterHistory=R.default,t.applyRouterMiddleware=x.default,t.browserHistory=M.default,t.hashHistory=T.default,t.createMemoryHistory=D.default},1212:function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":c(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function a(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function o(e,t,n){for(var r=e,a=[],o=[],i=0,s=t.length;i<s;++i){var c=t[i],u=c.path||"";if("/"===u.charAt(0)&&(r=e,a=[],o=[]),null!==r&&u){var f=(0,l.matchPattern)(u,r);if(f?(r=f.remainingPathname,a=[].concat(a,f.paramNames),o=[].concat(o,f.paramValues)):r=null,""===r)return a.every(function(e,t){return String(o[t])===String(n[e])})}}return!1}function i(e,t){return null==t?null==e:null==e||r(e,t)}function s(e,t,n,r,s){var c=e.pathname,l=e.query;return null!=n&&("/"!==c.charAt(0)&&(c="/"+c),!!(a(c,n.pathname)||!t&&o(c,r,s))&&i(l,n.query))}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var l=n(1136);e.exports=t.default},1213:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){var n=e.history,r=e.routes,o=e.location,c=a(e,["history","routes","location"]);n||o?void 0:(0,l.default)(!1),n=n?n:(0,f.default)(c);var u=(0,m.default)(n,(0,d.createRoutes)(r));o=o?n.createLocation(o):n.getCurrentLocation(),u.match(o,function(e,r,a){var o=void 0;if(a){var c=(0,_.createRouterObject)(n,u,a);o=i({},a,{router:c,matchContext:{transitionManager:u,router:c}})}t(e,r&&n.createLocation(r,s.REPLACE),o)})}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(131),c=n(21),l=r(c),u=n(1183),f=r(u),p=n(1185),m=r(p),d=n(1127),_=n(1182);t.default=o,e.exports=t.default},1214:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var o=!0,i=void 0,c={location:t,params:s(n,r)},l=e.getChildRoutes(c,function(e,t){return t=!e&&(0,h.createRoutes)(t),o?void(i=[e,t]):void a(e,t)});return(0,m.isPromise)(l)&&l.then(function(e){return a(null,(0,h.createRoutes)(e))},a),o=!1,i}function o(e,t,n,r,i){if(e.indexRoute)i(null,e.indexRoute);else if(e.getIndexRoute){var c={location:t,params:s(n,r)},l=e.getIndexRoute(c,function(e,t){i(e,!e&&(0,h.createRoutes)(t)[0])});(0,m.isPromise)(l)&&l.then(function(e){return i(null,(0,h.createRoutes)(e)[0])},i)}else if(e.childRoutes||e.getChildRoutes){var u=function(e,a){if(e)return void i(e);var s=a.filter(function(e){return!e.path});(0,p.loopAsync)(s.length,function(e,a,i){o(s[e],t,n,r,function(t,n){if(t||n){var r=[s[e]].concat(Array.isArray(n)?n:[n]);i(t,r)}else a()})},function(e,t){i(null,t)})},f=a(e,t,n,r,u);f&&u.apply(void 0,f)}else i()}function i(e,t,n){return t.reduce(function(e,t,r){var a=n&&n[r];return Array.isArray(e[t])?e[t].push(a):t in e?e[t]=[e[t],a]:e[t]=a,e},e)}function s(e,t){return i({},e,t)}function c(e,t,n,r,i,c){var u=e.path||"";if("/"===u.charAt(0)&&(n=t.pathname,r=[],i=[]),null!==n&&u){try{var p=(0,d.matchPattern)(u,n);p?(n=p.remainingPathname,r=[].concat(r,p.paramNames),i=[].concat(i,p.paramValues)):n=null}catch(e){c(e)}if(""===n){var m=function(){var n={routes:[e],params:s(r,i)};return o(e,t,r,i,function(e,t){if(e)c(e);else{if(Array.isArray(t)){var r;(r=n.routes).push.apply(r,t)}else t&&n.routes.push(t);c(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof m?"undefined":f(m)))return m.v}}if(null!=n||e.childRoutes){var _=function(a,o){a?c(a):o?l(o,t,function(t,n){t?c(t):n?(n.routes.unshift(e),c(null,n)):c()},n,r,i):c()},h=a(e,t,r,i,_);h&&_.apply(void 0,h)}else c()}function l(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=u({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,p.loopAsync)(e.length,function(n,i,s){c(e[n],t,r,a,o,function(e,t){e||t?s(e,t):i()})},n)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=l;var p=n(1171),m=n(1180),d=n(1136),_=n(1137),h=(r(_),n(1127));e.exports=t.default},1215:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.displayName||e.name||"Component"}function o(e,t){var n=t&&t.withRef,r=u.default.createClass({displayName:"WithRouter",mixins:[(0,m.ContextSubscriber)("router")],contextTypes:{router:d.routerShape},propTypes:{router:d.routerShape},getWrappedInstance:function(){return n?void 0:(0,c.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router;if(!r)return u.default.createElement(e,this.props);var a=r.params,o=r.location,s=r.routes,c=i({},this.props,{router:r,params:a,location:o,routes:s});return n&&(c.ref=function(e){t.wrappedInstance=e}),u.default.createElement(e,c)}});return r.displayName="withRouter("+a(e)+")",r.WrappedComponent=e,(0,p.default)(r,e)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(21),c=r(s),l=n(1),u=r(l),f=n(397),p=r(f),m=n(1172),d=n(1173);e.exports=t.default},1223:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(62),l=(n.n(c),n(378)),u=n(127),f=n(23),p=n.n(f),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"render",value:function(){if(void 0===this.props.balances)return s.a.createElement("div",null,s.a.createElement(p.a,{content:"wallet.loading_balances"}),"â¦");var e=this.props.balances.groupBy(function(e){return e.balance.asset_id}).map(function(e){return e.reduce(function(e,t){return e+Number(t.balance.amount)},0)});return e.size?s.a.createElement("div",null,e.map(function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(u.a,{color:"info",amount:e,asset:t}))}).toArray()):s.a.createElement("div",null,"None")}}]),t}(i.Component);d=n.i(c.connect)(d,{listenTo:function(){return[l.a]},getProps:function(){return l.a.getState()}}),t.a=d},1224:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(9),s=n.n(i),c=n(64),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e._getInitialState(),e._export("importing"),e}return o(t,e),l(t,[{key:"_getInitialState",value:function(){return{importing:!1}}},{key:"importing",value:function(e){this.setState({importing:e})}}]),t}(c.a),f=s.a.createStore(u,"ImportKeysStore");t.a=f},1225:function(t,n,r){"use strict";(function(t){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(8),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=void 0;try{var c=r(1228);if(c.indexOf("3cee441")===-1)throw new Error("Incorrect hash: bts_genesiskeys_bloom.dat");s=c}catch(e){console.log("WARN: Will be unable to filter BTS 1.0 wallet imports, did not find assets/bts_genesiskeys_bloom.dat",e)}var l=function(){function n(e){a(this,n),e&&(this.bloom_buffer=e,this.bits_in_filter=8*e.length)}return i(n,[{key:"isAvailable",value:function(){return void 0!==s}},{key:"init",value:function(n){var r=this;if(this.bloom_buffer)return void n();if(!this.isAvailable())throw new Error("Genesis bloom file was not deployed");var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){if(404!==a.status){var e=new FileReader;e.onload=function(e){var a=new t(e.target.result,"binary");if(1048576!==a.length)throw new Error("Wrong length");r.bits_in_filter=8*a.length,r.bloom_buffer=a,n()},e.readAsBinaryString(a.response)}},a.onerror=function(){console.error("xhr.onerror",e)},a.open("GET",s),a.send()}},{key:"inGenesis",value:function(e){if(!this.bloom_buffer)throw new Error("Call init() first");for(var t=0;t<3;t++){var n=o.l.sha256(t+":"+e),r=parseInt(n.slice(-3).toString("hex"),16)%this.bits_in_filter,a=r>>3,i=1<<(7&r),s=this.bloom_buffer[a];if(0===(s&i))return!1}return!0}},{key:"filter",value:function(e,t){var n=this;if(!this.isAvailable())return console.log("WARN: Missing bloom filter for BTS 0.9.x wallets"),void t({error:"missing_bloom"});var r=!0;t({initalizing:r}),this.init(function(){try{r=!1,t({initalizing:r});for(var a=1,i=0;i<e.length;i++){var s=0,c=0,l=e[i],u=l.encrypted_private_keys.length;t({importing:!0,account_name:l.account_name,count:c,total:u});for(var f=l.encrypted_private_keys.length-1;f>=0;f--){if(c++,c%a===0&&(a=47,t({importing:!0,account_name:l.account_name,count:c,total:u})),!l.public_keys)return void t({error:"missing_public_keys"});var p=l.public_keys[f];if(/^GPH/.test(p)&&(p="BTS"+p.substring(3)),!n.inGenesis(p)){for(var m=o.e.addresses(p,"BTS"),d=!1,_=0;_<m.length;_++)if(n.inGenesis(m[_])){d=!0;break}d||(delete l.encrypted_private_keys[f],delete l.public_keys[f],s++)}}for(var h=[],v=[],f=l.encrypted_private_keys.length-1;f>=0;f--)l.encrypted_private_keys[f]&&(h.push(l.encrypted_private_keys[f]),v.push(l.public_keys[f]));l.encrypted_private_keys=h,t({importing:!1,account_name:l.account_name,count:c-s,total:u}),l.public_keys=v}t({success:!0})}finally{r&&(r=!1,t({initalizing:r}))}})}}]),n}();n.a=l}).call(n,r(2).Buffer)},1226:function(e,t,n){t=e.exports=n(1091)(),t.push([e.i,"div>div.asset-list:first-child{padding-top:.25rem}div>div.asset-list{padding-bottom:.25rem}",""])},1227:function(e,t,n){var r=n(1226);"string"==typeof r&&(r=[[e.i,r,""]]);n(1092)(r,{});r.locals&&(e.exports=r.locals)},1228:function(e,t,n){e.exports=n.p+"bts_genesiskeys_bloom_3cee441.dat"},1289:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(48),l=n(90),u=n(160),f=n(62),p=(n.n(f),n(19)),m=n(23),d=n.n(m),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),_(t,[{key:"shouldComponentUpdate",value:function(e){return!p.a.are_equal_shallow(e.myAccounts,this.props.myAccounts)||e.ignoredAccounts!==this.props.ignoredAccounts}},{key:"onLinkAccount",value:function(e,t){t.preventDefault(),u.a.linkAccount(e)}},{key:"onUnlinkAccount",value:function(e,t){t.preventDefault(),u.a.unlinkAccount(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.myAccounts,r=t.ignoredAccounts,a=r.toArray().concat(n).sort();return a.length?s.a.createElement("table",{className:"table"},s.a.createElement("tbody",null,a.map(function(t){var n=r.has(t),a=s.a.createElement("a",{href:!0,onClick:n?e.onLinkAccount.bind(e,t):e.onUnlinkAccount.bind(e,t)},s.a.createElement(d.a,{content:"account."+(n?"unignore":"ignore")}));return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t),s.a.createElement("td",null,s.a.createElement(c.e,{to:"/account/"+t+"/permissions"},s.a.createElement(d.a,{content:"settings.view_keys"}))),s.a.createElement("td",null,a))}))):s.a.createElement("div",null,s.a.createElement(d.a,{content:"settings.no_accounts"}))}}]),t}(s.a.Component);h=n.i(f.connect)(h,{listenTo:function(){return[l.a]},getProps:function(){return{myAccounts:l.a.getMyAccounts(),ignoredAccounts:l.a.getState().myIgnoredAccounts}}}),t.a=h},1290:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(262),l=n(1094),u=n(36),f=n.n(u),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),
Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={restoreType:0,types:["backup","brainkey"]},e}return o(t,e),p(t,[{key:"_changeType",value:function(e){this.setState({restoreType:this.state.types.indexOf(e.target.value)})}},{key:"render",value:function(){var e=this.state,t=e.types,n=e.restoreType,r=t.map(function(e){return s.a.createElement("option",{key:e,value:e},f.a.translate("settings.backupcreate_"+e)," ")}),a=void 0;switch(t[n]){case"backup":a=s.a.createElement(c.BackupCreate,null);break;case"brainkey":a=s.a.createElement(l.default,null)}return s.a.createElement("div",null,s.a.createElement("select",{onChange:this._changeType.bind(this),className:"bts-select",value:t[n]},r),a)}}]),t}(s.a.Component);t.a=m},1291:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(1095),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){return s.a.createElement(c.default,null)}}]),t}(s.a.Component);t.a=u},1292:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(262),l=n(392),u=n(390),f=n(23),p=n.n(f),m=n(36),d=n.n(m),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={restoreType:0,types:["backup","key","legacy","brainkey"]},e}return o(t,e),_(t,[{key:"_changeType",value:function(e){this.setState({restoreType:this.state.types.indexOf(e.target.value)})}},{key:"render",value:function(){var e=this.state,t=e.types,n=e.restoreType,r=t.map(function(e){return s.a.createElement("option",{key:e,value:e},d.a.translate("settings.backup_"+e)," ")}),a=void 0;switch(t[n]){case"backup":a=s.a.createElement("div",null,s.a.createElement(c.BackupRestore,null));break;case"brainkey":a=s.a.createElement("div",null,s.a.createElement("p",{style:{maxWidth:"40rem",paddingBottom:10}},s.a.createElement(p.a,{content:"settings.restore_brainkey_text"})),s.a.createElement(u.default,{restoreBrainkey:!0}));break;default:a=s.a.createElement(l.default,{privateKey:1===n})}return s.a.createElement("div",null,s.a.createElement("select",{onChange:this._changeType.bind(this),className:"bts-select",value:t[n]},r),a)}}]),t}(s.a.Component);t.a=h},1293:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(36),l=n.n(c),u=n(173),f=n(23),p=n.n(f),m=n(63),d=n(398),_=n(1294),h=n(1289),v=n(1295),y=n(1291),b=n(1292),g=n(1290),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={apiServer:e.settings.get("apiServer"),activeSetting:e.viewSettings.get("activeSetting",0),menuEntries:["general","wallet","accounts","password","backup","restore","access"],settingEntries:{general:["locale","unit","showSettles","walletLockTimeout","themes","disableChat","showAssetPercent"],access:["apiServer","faucet_address"]}},n}return o(t,e),E(t,[{key:"triggerModal",value:function(e){this.refs.ws_modal.show(e)}},{key:"_onChangeSetting",value:function(e,t){function n(e,t){if(!t)return e;if(!t[0].translate)return t.indexOf(e);for(var n=0;n<t.length;n++)if(l.a.translate("settings."+t[n].translate)===e)return n}t.preventDefault();var r=this.props.defaults,a=null;switch(e){case"locale":var o=l.a.getLocale();t.target.value!==o&&(u.a.switchLocale(t.target.value),m.a.changeSetting({setting:"locale",value:t.target.value}));break;case"themes":m.a.changeSetting({setting:"themes",value:t.target.value});break;case"defaultMarkets":break;case"walletLockTimeout":var i=parseInt(t.target.value,10);i&&!isNaN(i)&&"number"==typeof i&&m.a.changeSetting({setting:"walletLockTimeout",value:t.target.value});break;case"inverseMarket":case"confirmMarketOrder":a=0===n(t.target.value,r[e]);break;case"apiServer":m.a.changeSetting({setting:"apiServer",value:t.target.value}),this.setState({apiServer:t.target.value});break;case"disableChat":m.a.changeSetting({setting:"disableChat",value:"yes"===t.target.value});break;case"showSettles":m.a.changeSetting({setting:"showSettles",value:"yes"===t.target.value});break;case"showAssetPercent":m.a.changeSetting({setting:"showAssetPercent",value:"yes"===t.target.value});break;case"unit":var s=n(t.target.value,r[e]);m.a.changeSetting({setting:e,value:r[e][s]});break;default:a=n(t.target.value,r[e])}null!==a&&m.a.changeSetting({setting:e,value:a})}},{key:"onReset",value:function(){m.a.clearSettings()}},{key:"_onChangeMenu",value:function(e){var t=this.state.menuEntries.indexOf(e);this.setState({activeSetting:t}),m.a.changeViewSetting({activeSetting:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.settings,r=t.defaults,a=this.state,o=a.menuEntries,i=a.activeSetting,c=a.settingEntries,l=void 0,u=o[i];switch(u){case"accounts":l=s.a.createElement(h.a,null);break;case"wallet":l=s.a.createElement(v.a,null);break;case"password":l=s.a.createElement(y.a,null);break;case"backup":l=s.a.createElement(g.a,null);break;case"restore":l=s.a.createElement(b.a,null);break;default:l=c[u].map(function(t){return s.a.createElement(_.a,w({key:t,setting:t,settings:n,defaults:r[t],onChange:e._onChangeSetting.bind(e),locales:e.props.localesObject,triggerModal:e.triggerModal.bind(e)},e.state))})}return s.a.createElement("div",{className:"grid-block page-layout"},s.a.createElement("div",{className:"grid-block main-content wrap",style:{marginTop:"1rem"}},s.a.createElement("div",{className:"grid-content large-offset-2 shrink",style:{paddingRight:"4rem"}},s.a.createElement(p.a,{style:{paddingBottom:20},className:"bottom-border",component:"h4",content:"header.settings"}),s.a.createElement("ul",{className:"settings-menu"},o.map(function(t,n){return s.a.createElement("li",{className:n===i?"active":"",onClick:e._onChangeMenu.bind(e,t),key:t},s.a.createElement(p.a,{content:"settings."+t}))}))),s.a.createElement("div",{className:"grid-content"},s.a.createElement("div",{className:"grid-block small-10 no-padding no-margin vertical"},s.a.createElement(p.a,{component:"h3",content:"settings."+o[i]}),s.a.createElement(p.a,{style:{paddingTop:10,paddingBottom:20,marginBottom:30},className:"bottom-border",content:"settings."+o[i]+"_text"}),l))),s.a.createElement(d.a,{ref:"ws_modal",apis:r.apiServer,api:r.apiServer.filter(function(t){return t===e.state.apiServer}),changeConnection:function(t){e.setState({apiServer:t})}}))}}]),t}(s.a.Component);t.a=k},1294:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(36),l=n.n(c),u=n(23),f=n.n(u),p=n(63),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"_onConfirm",value:function(){p.a.changeSetting({setting:"apiServer",value:this.props.apiServer}),setTimeout(this._onReloadClick,250)}},{key:"_onReloadClick",value:function(){window.electron?(window.location.hash="",window.remote.getCurrentWindow().reload()):window.location.href="/"}},{key:"render",value:function(){var e=this.props,t=e.defaults,n=e.setting,r=e.settings,a=e.apiServer,o=void 0,i=void 0,c=void 0,u=void 0,p=void 0,m=r.get(n);l.a.getLocale();switch(n){case"locale":u=m,o=t.map(function(e){var t="languages."+e,n=l.a.translate(t);return s.a.createElement("option",{key:e,value:e},n)});break;case"themes":u=m,o=t.map(function(e){var t="settings."+e,n=l.a.translate(t);return s.a.createElement("option",{key:e,value:e},n)});break;case"defaultMarkets":o=null,u=null;break;case"apiServer":u=t.reduce(function(e,t){return t.url===a?a:e},null)||t[0],o=t.map(function(e){var t=e.translate?l.a.translate("settings."+e.translate):e,n=e.translate?e.translate:e;return s.a.createElement("option",{value:t.url,key:n.url},t.location||t.url," ",t.location?"("+t.url+")":null)}),c=s.a.createElement("div",{className:"button-group",style:{padding:"10px"}},s.a.createElement("div",{onClick:this._onConfirm.bind(this),className:"button outline"},s.a.createElement(f.a,{content:"transfer.confirm"})),s.a.createElement("div",{onClick:this.props.triggerModal,className:"button outline",id:"add"},s.a.createElement(f.a,{id:"add_text",content:"settings.add_api"})),s.a.createElement("div",{onClick:this.props.triggerModal,id:"remove",className:"button outline"},s.a.createElement(f.a,{id:"remove_text",content:"settings.remove_api"}))),i=s.a.createElement("div",{style:{position:"absolute",right:0,top:"0.2rem"}});break;case"walletLockTimeout":u=m,p=s.a.createElement("input",{type:"text",value:m,onChange:this.props.onChange.bind(this,n)});break;case"faucet_address":u=m?m:"https://",p=s.a.createElement("input",{type:"text",defaultValue:u,onChange:this.props.onChange.bind(this,n)});break;default:"number"==typeof m?u=t[m]:"boolean"==typeof m?u=m?t[0]:t[1]:"string"==typeof m&&(u=m),t?o=t.map(function(e,t){var n=e.translate?l.a.translate("settings."+e.translate):e,r=e.translate?e.translate:e;return s.a.createElement("option",{value:e.translate?e.translate:e,key:r},n)}):p=s.a.createElement("input",{type:"text",defaultValue:u,onBlur:this.props.onChange.bind(this,n)})}return u||o?(u&&u.translate&&(u=u.translate),s.a.createElement("section",{className:"block-list"},s.a.createElement("header",null,s.a.createElement(f.a,{component:"span",content:"settings."+n})),o?s.a.createElement("ul",null,s.a.createElement("li",{className:"with-dropdown"},i,s.a.createElement("select",{value:u,onChange:this.props.onChange.bind(this,n)},o),c)):null,p?s.a.createElement("ul",null,s.a.createElement("li",null,p)):null)):null}}]),t}(s.a.Component);t.a=d},1295:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),s=n.n(i),c=n(171),l=n(380),u=n(23),f=n.n(u),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={lookupActive:!1},e}return o(t,e),p(t,[{key:"onLookup",value:function(){this.setState({lookupActive:!this.state.lookupActive})}},{key:"render",value:function(){var e=this.state.lookupActive;return s.a.createElement("div",null,s.a.createElement(c.ChangeActiveWallet,null),s.a.createElement(c.WalletDelete,null),s.a.createElement("section",{style:{padding:"15px 0"},className:"block-list"},s.a.createElement("header",null,s.a.createElement(f.a,{content:"wallet.balance_claims"}),":")),s.a.createElement("div",{style:{paddingBottom:10}},s.a.createElement(f.a,{content:"settings.lookup_text"}),":"),s.a.createElement("div",{className:"button outline",onClick:this.onLookup.bind(this)},"Lookup balances"),e?s.a.createElement(l.default,null):null)}}]),t}(s.a.Component);t.a=m},171:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(48),l=n(62),u=(n.n(l),n(253)),f=n(163),p=n(23),m=n.n(p),d=n(61),_=n.n(d),h=n(36),v=n.n(h);n.d(t,"WalletManager",function(){return g}),n.d(t,"WalletOptions",function(){return w}),n.d(t,"ChangeActiveWallet",function(){return E}),n.d(t,"WalletDelete",function(){return k});var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={listenTo:function(){return[f.a]},getProps:function(){return f.a.getState()}},g=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"getTitle",value:function(){switch(this.props.location.pathname){case"/wallet/create":return"wallet.create_wallet";case"/wallet/backup/create":return"wallet.create_backup";case"/wallet/backup/restore":return"wallet.restore_backup";case"/wallet/backup/brainkey":return"wallet.backup_brainkey";case"/wallet/delete":return"wallet.delete_wallet";case"/wallet/change-password":return"wallet.change_password";case"/wallet/import-keys":return"wallet.import_keys";default:return"wallet.console"}}},{key:"render",value:function(){return s.a.createElement("div",{className:"grid-block vertical"},s.a.createElement("div",{className:"grid-container",style:{maxWidth:"40rem"}},s.a.createElement("div",{className:"content-block center-content"},s.a.createElement("div",{className:"page-header"},s.a.createElement(m.a,{component:"h3",content:this.getTitle()})),s.a.createElement("div",{className:"content-block"},this.props.children))))}}]),t}(i.Component);g=n.i(l.connect)(g,b);var w=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){var e=!!this.props.current_wallet,t=this.props.wallet_names.size>1,n=this.props.current_wallet?this.props.current_wallet.toUpperCase():"";return s.a.createElement("span",null,s.a.createElement("div",{className:"grid-block"},s.a.createElement("div",{className:"grid-content"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("label",null,s.a.createElement(m.a,{content:"wallet.active_wallet"}),":"),s.a.createElement("div",null,n),s.a.createElement("br",null),t?s.a.createElement(c.e,{to:"/wallet/change"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.change_wallet"}))):null))),s.a.createElement("div",{className:"grid-content"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("label",null,s.a.createElement(m.a,{content:"wallet.import_keys_tool"})),s.a.createElement("div",{style:{visibility:"hidden"}},"Dummy"),s.a.createElement("br",null),e?s.a.createElement(c.e,{to:"/wallet/import-keys"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.import_keys"}))):null))),e?s.a.createElement("div",{className:"grid-content"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-content"},s.a.createElement("label",null,s.a.createElement(m.a,{content:"wallet.balance_claims"})),s.a.createElement("div",{style:{visibility:"hidden"}},"Dummy"),s.a.createElement("br",null),s.a.createElement(c.e,{to:"wallet/balance-claims"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.balance_claim_lookup"})))))):null),e?s.a.createElement(c.e,{to:"wallet/backup/create"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.create_backup"}))):null,e?s.a.createElement(c.e,{to:"wallet/backup/brainkey"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.backup_brainkey"}))):null,s.a.createElement(c.e,{to:"wallet/backup/restore"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.restore_backup"}))),s.a.createElement("br",null),e?s.a.createElement("br",null):null,s.a.createElement(c.e,{to:"wallet/create"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.new_wallet"}))),e?s.a.createElement(c.e,{to:"wallet/delete"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.delete_wallet"}))):null,e?s.a.createElement(c.e,{to:"wallet/change-password"},s.a.createElement("div",{className:"button outline success"},s.a.createElement(m.a,{content:"wallet.change_password"}))):null)}}]),t}(i.Component);w=n.i(l.connect)(w,b);var E=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return o(t,e),y(t,[{key:"componentWillMount",value:function(){var e=this.props.current_wallet;this.setState({current_wallet:e})}},{key:"render",value:function(){var e=f.a.getState(),t=[];e.wallet_names.forEach(function(e){t.push(s.a.createElement("option",{key:e,value:e},e.toLowerCase()))});var n=this.state.current_wallet!==this.props.current_wallet;return s.a.createElement("div",null,s.a.createElement("section",{className:"block-list"},s.a.createElement("header",null,s.a.createElement(m.a,{content:"wallet.active_wallet"}),":"),s.a.createElement("ul",null,s.a.createElement("li",{className:"with-dropdown"},e.wallet_names.count()<=1?s.a.createElement("div",{style:{paddingLeft:10}},this.state.current_wallet):s.a.createElement("select",{value:this.state.current_wallet,onChange:this.onChange.bind(this)},t)))),s.a.createElement(c.e,{to:"wallet/create"},s.a.createElement("div",{className:"button outline"},s.a.createElement(m.a,{content:"wallet.new_wallet"}))),n?s.a.createElement("div",{className:"button outline",onClick:this.onConfirm.bind(this)},s.a.createElement(m.a,{content:"wallet.change",name:this.state.current_wallet})):null)}},{key:"onConfirm",value:function(){u.a.setWallet(this.state.current_wallet)}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({current_wallet:t})}}]),t}(i.Component);E=n.i(l.connect)(E,b);var k=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={selected_wallet:null,confirm:0},e}return o(t,e),y(t,[{key:"_onCancel",value:function(){this.setState({confirm:0,selected_wallet:null})}},{key:"render",value:function(){if(1===this.state.confirm)return s.a.createElement("div",{style:{paddingTop:20}},s.a.createElement("h4",null,s.a.createElement(m.a,{content:"wallet.delete_confirm_line1"})),s.a.createElement(m.a,{component:"p",content:"wallet.delete_confirm_line3"}),s.a.createElement("br",null),s.a.createElement("div",{className:"button outline",onClick:this.onConfirm2.bind(this)},s.a.createElement(m.a,{content:"wallet.delete_confirm_line4",name:this.state.selected_wallet})),s.a.createElement("div",{className:"button outline",onClick:this._onCancel.bind(this)},s.a.createElement(m.a,{content:"wallet.cancel"})));var e=s.a.createElement("option",{key:"placeholder",value:"",disabled:this.props.wallet_names.size>1}),t=[e];t.push(s.a.createElement("option",{key:"select_option",value:""},v.a.translate("settings.delete_select"),"â¦")),this.props.wallet_names.forEach(function(e){t.push(s.a.createElement("option",{key:e,value:e},e.toLowerCase()))});var n=!!this.state.selected_wallet;return s.a.createElement("div",{style:{paddingTop:20}},s.a.createElement("section",{className:"block-list"},s.a.createElement("header",null,s.a.createElement(m.a,{content:"wallet.delete_wallet"})),s.a.createElement("ul",null,s.a.createElement("li",{className:"with-dropdown"},s.a.createElement("select",{value:this.state.selected_wallet||"",style:{margin:"0 auto"},onChange:this.onChange.bind(this)},t)))),s.a.createElement("div",{className:_()("button outline",{disabled:!n}),onClick:this.onConfirm.bind(this)},s.a.createElement(m.a,{content:this.state.selected_wallet?"wallet.delete_wallet_name":"wallet.delete_wallet",name:this.state.selected_wallet})))}},{key:"onConfirm",value:function(){this.setState({confirm:1})}},{key:"onConfirm2",value:function(){f.a.onDeleteWallet(this.state.selected_wallet),this._onCancel()}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({selected_wallet:t})}}]),t}(i.Component);k=n.i(l.connect)(k,b)},262:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(91),l=n(62),u=(n.n(l),n(253)),f=n(163),p=n(1197),m=n(32),d=n(1178),_=n(255),h=n(1155),v=(n.n(h),n(61)),y=n.n(v),b=n(23),g=n.n(b),w=n(14),E=(n.n(w),n(8));n.d(t,"BackupCreate",function(){return S}),n.d(t,"BackupVerify",function(){return C}),n.d(t,"BackupRestore",function(){return O}),n.d(t,"Restore",function(){return R}),n.d(t,"NewWalletName",function(){return B}),n.d(t,"Download",function(){return x}),n.d(t,"Create",function(){return j}),n.d(t,"Upload",function(){return N}),n.d(t,"NameSizeModified",function(){return T}),n.d(t,"DecryptBackup",function(){return A}),n.d(t,"Sha1",function(){return D});var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P={listenTo:function(){return[f.a,p.a]},getProps:function(){var e=f.a.getState(),t=p.a.getState();return{wallet:e,backup:t}}},S=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{maxWidth:"40rem"}},s.a.createElement(j,{noText:this.props.noText,newAccount:this.props.location?this.props.location.query.newAccount:null},s.a.createElement(T,null),this.props.noText?null:s.a.createElement(D,null),s.a.createElement(x,{downloadCb:this.props.downloadCb})))}}]),t}(i.Component);S=n.i(l.connect)(S,P);var C=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{maxWidth:"40rem"}},s.a.createElement("h3",null,s.a.createElement(g.a,{content:"wallet.verify_prior_backup"})),s.a.createElement(N,null,s.a.createElement(T,null),s.a.createElement(A,{saveWalletObject:!0},s.a.createElement("h4",null,s.a.createElement(g.a,{content:"wallet.verified"}))),s.a.createElement(L,null)))}}]),t}(i.Component);C=n.i(l.connect)(C,P);var O=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={newWalletName:null},e}return o(t,e),k(t,[{key:"componentWillMount",value:function(){d.a.reset()}},{key:"render",value:function(){var e=this.props.wallet.new_wallet;this.props.wallet.wallet_names.has(e);return s.a.createElement("div",null,s.a.createElement(g.a,{style:{textAlign:"left",maxWidth:"30rem"},component:"p",content:"wallet.import_backup_choose"}),(new FileReader).readAsBinaryString?null:s.a.createElement("p",{className:"error"},"Warning! You browser doesn't support some some file operations required to restore backup, we recommend you to use Chrome or Firefox browsers to restore your backup."),s.a.createElement(N,null,s.a.createElement(T,null),s.a.createElement(A,{saveWalletObject:!0},s.a.createElement(B,null,s.a.createElement(R,null)))))}}]),t}(i.Component);O=n.i(l.connect)(O,P);var R=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return o(t,e),k(t,[{key:"isRestored",value:function(){var e=this.props.wallet.new_wallet,t=this.props.wallet.wallet_names.has(e);return t}},{key:"render",value:function(){var e=this.props.wallet.new_wallet,t=this.isRestored();return t?s.a.createElement("span",null,s.a.createElement("h5",null,s.a.createElement(g.a,{content:"wallet.restore_success",name:e.toUpperCase()})),s.a.createElement("div",null,this.props.children)):s.a.createElement("span",null,s.a.createElement("h3",null,s.a.createElement(g.a,{content:"wallet.ready_to_restore"})),s.a.createElement("div",{className:"button outline",onClick:this.onRestore.bind(this)},s.a.createElement(g.a,{content:"wallet.restore_wallet_of",name:e})))}},{key:"onRestore",value:function(){u.a.restore(this.props.wallet.new_wallet,this.props.backup.wallet_object)}}]),t}(i.Component);R=n.i(l.connect)(R,P);var B=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={new_wallet:null,accept:!1},e}return o(t,e),k(t,[{key:"componentWillMount",value:function(){var e=!!this.props.wallet.current_wallet;if(e||(f.a.setNewWallet("default"),this.setState({accept:!0})),e&&this.props.backup.name&&!this.state.new_wallet){var t=this.props.backup.name.match(/[a-z0-9_-]*/)[0];t&&this.setState({new_wallet:t})}}},{key:"render",value:function(){if(this.state.accept)return s.a.createElement("span",null,this.props.children);var e=!!this.state.new_wallet,t=!!e&&this.props.wallet.wallet_names.has(this.state.new_wallet),n=!t&&e;return s.a.createElement("form",{onSubmit:this.onAccept.bind(this)},s.a.createElement("h5",null,s.a.createElement(g.a,{content:"wallet.new_wallet_name"})),s.a.createElement("input",{type:"text",id:"new_wallet",onChange:this.formChange.bind(this),value:this.state.new_wallet}),s.a.createElement("p",null,t?s.a.createElement(g.a,{content:"wallet.wallet_exist"}):null),s.a.createElement("div",{onClick:this.onAccept.bind(this),type:"submit",className:y()("button outline",{disabled:!n})},s.a.createElement(g.a,{content:"wallet.accept"})))}},{key:"onAccept",value:function(e){e&&e.preventDefault(),this.setState({accept:!0}),f.a.setNewWallet(this.state.new_wallet)}},{key:"formChange",value:function(e){var t=e.target.id,n=e.target.value;if("new_wallet"!==t||(n=n.toLowerCase(),!/[^a-z0-9_-]/.test(n))){var r={};r[t]=n,this.setState(r)}}}]),t}(i.Component);B=n.i(l.connect)(B,P);var x=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"componentWillMount",value:function(){try{this.isFileSaverSupported=!!new Blob}catch(e){}}},{key:"componentDidMount",value:function(){this.isFileSaverSupported||_.a.error("File saving is not supported")}},{key:"render",value:function(){return s.a.createElement("div",{className:"button",onClick:this.onDownload.bind(this)},s.a.createElement(g.a,{content:"wallet.download"}))}},{key:"onDownload",value:function(){var e=new Blob([this.props.backup.contents],{type:"application/octet-stream; charset=us-ascii"});if(e.size!==this.props.backup.size)throw new Error("Invalid backup to download conversion");n.i(h.saveAs)(e,this.props.backup.name),u.a.setBackupDate(),this.props.downloadCb&&this.props.downloadCb()}}]),t}(i.Component);x=n.i(l.connect)(x,P);var j=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"getBackupName",value:function(){var e=this.props.wallet.current_wallet,t=w.ChainConfig.address_prefix.toLowerCase();0!==e.indexOf(t)&&(e=t+"_"+e);var n=new Date,r=n.getMonth()+1,a=n.getDate(),o=e+"_"+n.getFullYear()+(r>=10?r:"0"+r)+(a>=10?a:"0"+a);return e=o+".bin"}},{key:"render",value:function(){var e=!!this.props.backup.contents;if(e)return s.a.createElement("div",null,this.props.children);var t=null!=m.a.getWallet();return s.a.createElement("div",null,this.props.noText?null:s.a.createElement("div",{style:{textAlign:"left"}},this.props.newAccount?s.a.createElement(g.a,{component:"p",content:"wallet.backup_new_account"}):null,s.a.createElement(g.a,{component:"p",content:"wallet.backup_explain"})),s.a.createElement("div",{onClick:this.onCreateBackup.bind(this),className:y()("button",{disabled:!t}),style:{marginBottom:10}},s.a.createElement(g.a,{content:"wallet.create_backup_of",name:this.props.wallet.current_wallet})),s.a.createElement(M,null));
}},{key:"onCreateBackup",value:function(){var e=this,t=m.a.getWallet().password_pubkey;n.i(d.b)(t).then(function(t){var n=e.getBackupName();d.a.incommingBuffer({name:n,contents:t})})}}]),t}(i.Component);j=n.i(l.connect)(j,P);var M=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"render",value:function(){if(!m.a.getWallet())return null;var e=m.a.getWallet().backup_date,t=m.a.getWallet().last_modified,n=e?s.a.createElement("h4",null,s.a.createElement(g.a,{content:"wallet.last_backup"})," ",s.a.createElement(c.c,{value:e})):s.a.createElement(g.a,{style:{paddingTop:20},className:"facolor-error",component:"p",content:"wallet.never_backed_up"}),r=null;return e&&(r=t.getTime()>e.getTime()?s.a.createElement("h4",{className:"facolor-error"},s.a.createElement(g.a,{content:"wallet.need_backup"})):s.a.createElement("h4",{className:"success"},s.a.createElement(g.a,{content:"wallet.noneed_backup"}))),s.a.createElement("span",null,n,r)}}]),t}(i.Component),N=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"reset",value:function(){d.a.reset()}},{key:"render",value:function(){var e=s.a.createElement("div",{style:{paddingTop:20}},s.a.createElement("div",{onClick:this.reset.bind(this),className:y()("button outline",{disabled:!this.props.backup.contents})},s.a.createElement(g.a,{content:"wallet.reset"})));if(this.props.backup.contents&&this.props.backup.public_key)return s.a.createElement("span",null,this.props.children,e);var t=this.props.backup.contents&&!this.props.backup.public_key;return s.a.createElement("div",null,s.a.createElement("input",{ref:"file_input",accept:".bin",type:"file",id:"backup_input_file",style:{border:"solid"},onChange:this.onFileUpload.bind(this)}),t?s.a.createElement("h5",null,s.a.createElement(g.a,{content:"wallet.invalid_format"})):null,e)}},{key:"onFileUpload",value:function(e){var t=e.target.files[0];d.a.incommingWebFile(t),this.forceUpdate()}}]),t}(i.Component);N=n.i(l.connect)(N,P);var T=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"render",value:function(){return s.a.createElement("span",null,s.a.createElement("h5",null,s.a.createElement("b",null,this.props.backup.name)," (",this.props.backup.size," bytes)"),this.props.backup.last_modified?s.a.createElement("div",null,this.props.backup.last_modified):null,s.a.createElement("br",null))}}]),t}(i.Component);T=n.i(l.connect)(T,P);var A=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e._getInitialState(),e}return o(t,e),k(t,[{key:"_getInitialState",value:function(){return{backup_password:"",verified:!1}}},{key:"render",value:function(){return this.state.verified?s.a.createElement("span",null,this.props.children):s.a.createElement("form",{onSubmit:this.onPassword.bind(this)},s.a.createElement("label",null,s.a.createElement(g.a,{content:"wallet.enter_password"})),s.a.createElement("input",{type:"password",id:"backup_password",onChange:this.formChange.bind(this),value:this.state.backup_password}),s.a.createElement(D,null),s.a.createElement("div",{type:"submit",className:"button outline",onClick:this.onPassword.bind(this)},s.a.createElement(g.a,{content:"wallet.submit"})))}},{key:"onPassword",value:function(e){var t=this;e&&e.preventDefault();var r=E.m.fromSeed(this.state.backup_password||""),a=this.props.backup.contents;n.i(d.c)(r.toWif(),a).then(function(e){t.setState({verified:!0}),t.props.saveWalletObject&&p.a.setWalletObjct(e)}).catch(function(e){console.error("Error verifying wallet "+t.props.backup.name,e,e.stack),"invalid_decryption_key"===e?_.a.error("Invalid Password"):_.a.error(""+e)})}},{key:"formChange",value:function(e){var t={};t[e.target.id]=e.target.value,this.setState(t)}}]),t}(i.Component);A.propTypes={saveWalletObject:i.PropTypes.bool},A=n.i(l.connect)(A,P);var D=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("pre",{className:"no-overflow"},this.props.backup.sha1," * SHA1"),s.a.createElement("br",null))}}]),t}(i.Component);D=n.i(l.connect)(D,P);var L=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),k(t,[{key:"render",value:function(){var e=this.props.label||s.a.createElement(g.a,{content:"wallet.reset"});return s.a.createElement("span",{className:"button cancel",onClick:this.onReset.bind(this)},e)}},{key:"onReset",value:function(){d.a.reset(),window.history.back()}}]),t}(i.Component)},380:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(62),l=(n.n(c),n(24)),u=n.n(l),f=n(61),p=n.n(f),m=n(255),d=n(130),_=n(108),h=n(170),v=n(378),y=n(377),b=n(1188),g=n(253),w=n(1187),E=n(23),k=n.n(E),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),P(t,[{key:"componentWillMount",value:function(){var e=_.a.getState().keys,t=e.keySeq();y.a.setPubkeys(t),this.existing_keys=t}},{key:"componentWillReceiveProps",value:function(e){var t=_.a.getState().keys,n=t.keySeq();n.equals(this.existing_keys)||(this.existing_keys=n,y.a.setPubkeys(n))}},{key:"render",value:function(){if(!this.props.account_refs.size)return s.a.createElement("div",null,s.a.createElement("h5",null,s.a.createElement(k.a,{content:"wallet.no_balance"})));if(this.props.loading)return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("h5",null,s.a.createElement(k.a,{content:"wallet.loading_balances"}),"â¦"),s.a.createElement("br",null),s.a.createElement(d.a,{type:"three-bounce"}));if(!this.props.balances||!this.props.balances.size)return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("h5",null,s.a.createElement(k.a,{content:"wallet.no_balance"})));var e=this.props.selected_balances.size&&this.props.claim_account_name,t=e?" ("+this.props.claim_account_name+")":null;return s.a.createElement("div",null,s.a.createElement("div",{className:"content-block center-content"},s.a.createElement("h3",{className:"no-border-bottom"},s.a.createElement(k.a,{content:"wallet.claim_balances"}))),s.a.createElement("div",{className:"grid-block vertical"},s.a.createElement("div",{className:"grid-content",style:{overflowY:"hidden !important"}},s.a.createElement("div",{className:"full-width-content center-content"},s.a.createElement(w.a,{key:this.props.balances,accounts:u.a.List(this.props.account_refs),onChange:this.onClaimAccountChange.bind(this)})),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement(b.a,null)),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:p()("button success",{disabled:!e}),onClick:this.onClaimBalance.bind(this)},s.a.createElement(k.a,{content:"wallet.claim_balance"}),t),s.a.createElement("div",{className:"button cancel",onClick:this.onBack.bind(this)},s.a.createElement(k.a,{content:"wallet.cancel"})))}},{key:"onBack",value:function(e){e.preventDefault(),window.history.back()}},{key:"onClaimAccountChange",value:function(e){y.a.claimAccountChange(e)}},{key:"onClaimBalance",value:function(){g.a.importBalance(this.props.claim_account_name,this.props.selected_balances,!0).catch(function(e){console.error("claimBalance",e);var t=e;try{t=e.data.message}catch(e){}throw m.a.error("Error claiming balance: "+t),e})}}]),t}(i.Component);S=n.i(c.connect)(S,{listenTo:function(){return[v.a,h.a,_.a]},getProps:function(){var e=v.a.getState();return e.account_refs=h.a.getState().account_refs,e}}),t.default=S},390:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(23),l=n.n(c),u=n(1189),f=n(1177),p=n(32),m=n(163),d=n(253),_=n(62),h=(n.n(_),n(61)),v=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),y(t,[{key:"render",value:function(){return p.a.getWallet()&&this.props.children?s.a.createElement("div",null,this.props.children):s.a.createElement(g,this.props)}}]),t}(i.Component),g=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={wallet_public_name:"default",valid_password:null,errors:{validBrainkey:!1},isValid:!1,create_submitted:!1,custom_brainkey:e.restoreBrainkey||!1,brnkey:null},n.validate=n.validate.bind(n),n}return o(t,e),y(t,[{key:"onBack",value:function(e){e.preventDefault(),window.history.back()}},{key:"onPassword",value:function(e){this.state.valid_password=e,this.setState({valid_password:e},this.validate)}},{key:"onCustomBrainkey",value:function(){this.setState({custom_brainkey:!0})}},{key:"onBrainkey",value:function(e){this.state.brnkey=e,this.setState({brnkey:e},this.validate)}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state,n=t.wallet_public_name,r=t.valid_password,a=t.custom_brainkey,o=t.errors;!r||o.wallet_public_name||a&&!o.validBrainkey||(d.a.setWallet(n,r,this.state.brnkey),this.setState({create_submitted:!0}))}},{key:"formChange",value:function(e){var t=e.target.id,n=e.target.value;"wallet_public_name"===t&&(n=n.toLowerCase(),/[^a-z0-9_-]/.test(n))||(this.state[t]=n,this.setState(this.state),this.validate())}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,t=e.errors,n=this.props.wallet_names;t.wallet_public_name=n.has(e.wallet_public_name)?"Wallet "+e.wallet_public_name.toUpperCase()+" exists, please change the name":null;var r=null===t.wallet_public_name&&null!==e.valid_password;e.custom_brainkey&&r&&(r=null!==e.brnkey),this.setState({isValid:r,errors:t})}},{key:"onDone",value:function(){window.history.back()}},{key:"render",value:function(){var e=this,t=this.state,n=t.errors,r=!!this.props.current_wallet;return this.state.create_submitted&&this.state.wallet_public_name===this.props.current_wallet?s.a.createElement("div",null,s.a.createElement("h4",null,s.a.createElement(l.a,{content:"wallet.wallet_created"})),s.a.createElement("span",{onClick:this.onDone.bind(this),className:"button success"},s.a.createElement(l.a,{content:"wallet.done"}))):s.a.createElement("div",null,s.a.createElement("form",{style:{maxWidth:"40rem"},onSubmit:this.onSubmit.bind(this),onChange:this.formChange.bind(this),noValidate:!0},s.a.createElement("div",{className:"grid-content",style:{textAlign:"left"}},this.props.restoreBrainkey?null:s.a.createElement(l.a,{component:"p",content:"wallet.create_importkeys_text"}),this.props.restoreBrainkey?null:s.a.createElement(l.a,{component:"p",content:"wallet.create_text"})),s.a.createElement(f.a,{onValid:this.onPassword.bind(this)}),r?s.a.createElement("div",{className:"no-overflow"},s.a.createElement("br",null),s.a.createElement("section",null,s.a.createElement("label",null,s.a.createElement(l.a,{content:"wallet.name"})),s.a.createElement("input",{tabIndex:3,type:"text",id:"wallet_public_name",defaultValue:this.state.wallet_public_name})),s.a.createElement("div",{className:"has-error"},n.wallet_public_name),s.a.createElement("br",null)):null,s.a.createElement("div",{className:"no-overflow"},this.state.custom_brainkey?s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement(l.a,{content:"wallet.brainkey"})),s.a.createElement(u.a,{tabIndex:4,onChange:this.onBrainkey.bind(this),errorCallback:function(t){var n=e.state.errors;n.validBrainkey=t,e.setState({errors:n})}})):null,s.a.createElement("button",{className:v()("button",{disabled:!this.state.isValid})},s.a.createElement(l.a,{content:"wallet.create_wallet"})),s.a.createElement("button",{className:"button secondary",onClick:this.onBack.bind(this)},s.a.createElement(l.a,{content:"wallet.cancel"}))),this.state.custom_brainkey?null:s.a.createElement("div",{style:{paddingTop:20}},s.a.createElement("label",null,s.a.createElement("a",{onClick:this.onCustomBrainkey.bind(this)},s.a.createElement(l.a,{content:"wallet.custom_brainkey"}))))))}}]),t}(i.Component);g.propTypes={hideTitle:s.a.PropTypes.bool},g=n.i(_.connect)(g,{listenTo:function(){return[m.a]},getProps:function(){return m.a.getState()}}),t.default=b},392:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=n.n(i),c=n(62),l=(n.n(c),n(61)),u=n.n(l),f=n(255),p=n(8),m=n(14),d=(n.n(m),n(108)),_=n(66),h=n(390),v=n(130),y=n(23),b=n.n(y),g=n(36),w=n.n(g),E=n(380),k=n(377),P=n(1223),S=n(32),C=n(1224),O=n(1225),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1227);var B=!1,x=function(e){var t=e.key_count;return t?s.a.createElement("span",null,"Found ",t," private keys"):s.a.createElement("span",null)},j=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e._getInitialState(),e._renderBalanceClaims=e._renderBalanceClaims.bind(e),e}return o(t,e),R(t,[{key:"_getInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{keys_to_account:{},no_file:!0,account_keys:[],reset_file_name:e?this.state.reset_file_name:Date.now(),reset_password:Date.now(),password_checksum:null,import_file_message:null,import_password_message:null,imported_keys_public:{},key_text_message:null,genesis_filtering:!1,genesis_filter_status:[],genesis_filter_finished:void 0,importSuccess:!1}}},{key:"reset",value:function(e,t){var n=this;e&&e.preventDefault();var r=this._getInitialState(t);this.setState(r,function(){return n.updateOnChange()})}},{key:"onWif",value:function(e){e.preventDefault();var t=this.refs.wifInput.value;this.addByPattern(t)}},{key:"onCancel",value:function(e){e&&e.preventDefault(),this.setState(this._getInitialState())}},{key:"updateOnChange",value:function(){k.a.setPubkeys(Object.keys(this.state.imported_keys_public))}},{key:"getImportAccountKeyCount",value:function(e){var t={},n=!1;for(var r in e){var a=!0,o=!1,i=void 0;try{for(var s,c=e[r].account_names[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;t[l]=(t[l]||0)+1,n=!0}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}}return n?t:null}},{key:"upload",value:function(e){var t=this;this.reset(null,!0);var n=e.target.files[0],r=new FileReader;r.onload=function(e){var r=e.target.result;try{var a=void 0;try{a=JSON.parse(r),t._parseImportKeyUpload(a,n.name,function(e){t.setState(e,function(){e.genesis_filter_finished&&t._passwordCheck()})})}catch(e){try{a||n.name+" is an unrecognized format",t._parseWalletJson(a)}catch(e){if(!t.addByPattern(r))throw e}t._passwordCheck()}}catch(e){console.error("... ImportKeys upload error",e),t.setState({import_file_message:e})}},r.readAsText(n)}},{key:"_parseImportKeyUpload",value:function(e,t,n){var r=this,a=void 0,o=void 0;try{if(a=e.password_checksum,!a)throw t+" is an unrecognized format";if(!Array.isArray(e.account_keys))throw t+" is an unrecognized format";o=e.account_keys}catch(e){throw e.message||e}var i=new O.a;return i.isAvailable()?void this.setState({genesis_filter_initalizing:!0},function(){return i.init(function(){var e=r.state.genesis_filter_status,t=o;i.filter(t,function(r){if("missing_public_keys"===r.error)return console.error("un-released format, just for testing"),void n({password_checksum:a,account_keys:o,genesis_filter_finished:!0,genesis_filtering:!1});if(r.success)return void n({password_checksum:a,account_keys:t,genesis_filter_finished:!0,genesis_filtering:!1});if(void 0!==r.initalizing)return void n({genesis_filter_initalizing:r.initalizing,genesis_filtering:!0});if(void 0===r.importing)return void console.error("unknown status",r);if(e.length){var i=e[e.length-1].account_name;i===r.account_name?e[e.length-1]=r:e.push(r)}else e.push(r);n({genesis_filter_status:e})})})}):void n({password_checksum:a,account_keys:o,genesis_filter_finished:!0,genesis_filtering:!1})}},{key:"_parseWalletJson",value:function(e){var t=void 0,n=void 0,r={},a={},o=function(e,t){e=m.ChainConfig.address_prefix+e.substring(3);var n=p.f.fromPublicKeyString(e).toAddressString(),r=a[t]||[];n="BTS"+n.substring(3),r.push(n),a[t]=r};try{if(!Array.isArray(e))throw new Error("Invalid wallet format");var i=!0,s=!1,c=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var f=l.value;if("key_record_type"==f.type&&f.data.account_address&&f.data.encrypted_private_key){var d=f.data.account_address,_=r[d]||[];_.push(f.data.encrypted_private_key),r[d]=_}else if("account_record_type"!=f.type)if("property_record_type"!=f.type||"encrypted_brainkey"!=f.data.key){if("master_key_record_type"==f.type){if(!f.data)throw file.name+" invalid master_key_record record";if(!f.data.checksum)throw file.name+" is missing master_key_record checksum";t=f.data.checksum}}else n=f.data.value;else{var h=f.data.name;o(f.data.owner_key,h);var v=!0,y=!1,b=void 0;try{for(var g,w=f.data.active_key_history[Symbol.iterator]();!(v=(g=w.next()).done);v=!0){var E=g.value;o(E[1],h)}}catch(e){y=!0,b=e}finally{try{!v&&w.return&&w.return()}finally{if(y)throw b}}}}}catch(e){s=!0,c=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw c}}if(!n)throw"Please use a BTS 1.0 wallet_export_keys file instead";if(!t)throw file.name+" is missing password_checksum";if(!enckeys.length)throw file.name+" does not contain any private keys"}catch(e){throw e.message||e}var k=[];for(var P in a){var S=[],C=!0,O=!1,R=void 0;try{for(var B,x=a[P][Symbol.iterator]();!(C=(B=x.next()).done);C=!0){var j=B.value,M=r[j];if(M){var N=!0,T=!1,A=void 0;try{for(var D,L=M[Symbol.iterator]();!(N=(D=L.next()).done);N=!0){var I=D.value;S.push(I)}}catch(e){T=!0,A=e}finally{try{!N&&L.return&&L.return()}finally{if(T)throw A}}}}}catch(e){O=!0,R=e}finally{try{!C&&x.return&&x.return()}finally{if(O)throw R}}k.push({account_name:P,encrypted_private_keys:S})}this.setState({password_checksum:t,account_keys:k})}},{key:"_passwordCheck",value:function(e){var t=this;e&&"preventDefault"in e&&e.preventDefault();var n=this.refs.password,r=n?n.value:"",a=this.state.password_checksum,o=p.l.sha512(p.l.sha512(r)).toString("hex");return a!=o?this.setState({no_file:!1,import_password_message:r.length?"Incorrect password":null}):void this.setState({no_file:!1,reset_password:Date.now(),import_password_message:w.a.translate("wallet.import_pass_match")},function(){return t._decryptPrivateKeys(r)})}},{key:"_decryptPrivateKeys",value:function(e){var t=this,n=p.g.fromSeed(e),r=!0,a=!0,o=!1,i=void 0;try{for(var s,c=this.state.account_keys[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;if(l.encrypted_private_keys)for(var u=l.account_name.trim(),d=new RegExp("^"+m.ChainConfig.address_prefix),_=0;_<l.encrypted_private_keys.length;_++){var h=l.encrypted_private_keys[_],v=l.public_keys?l.public_keys[_]:null;try{var y=n.decryptHex(h);if(B&&v){var b=p.m.fromHex(y),g=b.toPublicKey(),w=g.toAddressString(),E=g.toPublicKeyString(),k="",P=l.addresses?l.addresses[_]:null;P&&w.substring(3)!=P.substring(3)&&(k="address imported "+P+" but calculated "+w+". "),E.substring(3)!=v.substring(3)&&(k+="public key imported "+v+" but calculated "+E),""!=k&&console.log("ERROR Miss-match key",k)}if(v)d.test(v)||(v=m.ChainConfig.address_prefix+v.substring(3));else{var S=p.m.fromHex(y),C=S.toPublicKey();v=C.toPublicKeyString()}this.state.imported_keys_public[v]=!0;var O=this.state.keys_to_account[y]||{account_names:[]},R=O.account_names,x=!1,j=!0,M=!1,N=void 0;try{for(var T,A=R[Symbol.iterator]();!(j=(T=A.next()).done);j=!0){var D=T.value;D==u&&(x=!0)}}catch(e){M=!0,N=e}finally{try{!j&&A.return&&A.return()}finally{if(M)throw N}}if(x)continue;R.push(u),this.state.keys_to_account[y]={account_names:R,public_key_string:v}}catch(e){console.log(e,e.stack);var L=e.message||e;f.a.error("Account "+u+" had a private key import error: "+L)}}else{var I="Account "+l.account_name+" missing encrypted_private_keys";console.error(I),r&&(f.a.error(I),r=!1)}}}catch(e){o=!0,i=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw i}}this.setState({import_file_message:null,import_password_message:null,password_checksum:null},function(){return t.updateOnChange()})}},{key:"_saveImport",value:function(e){var t=this;e.preventDefault();var n=d.a.getState().keys,r={};for(var a in this.state.imported_keys_public)n.has(a)&&(delete this.state.imported_keys_public[a],r[a]=!0);if(0===Object.keys(this.state.imported_keys_public).length)return void f.a.error("This wallet has already been imported");var o=this.state.keys_to_account,i=!0,s=!1,c=void 0;try{for(var l,u=Object.keys(o)[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var p=l.value,m=o[p],h=(m.account_names,m.public_key_string);r[h]&&delete o[p]}}catch(e){s=!0,c=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw c}}_.a.unlock().then(function(){C.a.importing(!0),setTimeout(function(){return t.saveImport()},200)})}},{key:"saveImport",value:function(){var e=this,t=this.state.keys_to_account,n=[],r=!0,a=!1,o=void 0;try{for(var i,s=Object.keys(t)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value,l=t[c],u=l.account_names,p=l.public_key_string;n.push({private_plainhex:c,import_account_names:u,public_key_string:p})}}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}this.reset(),S.a.importKeysWorker(n).then(function(t){C.a.importing(!1);var r=n.length;f.a.success(w.a.translate("wallet.import_key_success",{count:r})),e.setState({importSuccess:!0})}).catch(function(e){console.log("error:",e),C.a.importing(!1);var t=e;try{t=e.target.error.message}catch(e){}f.a.error("Key import error: "+t)})}},{key:"addByPattern",value:function(e){var t=this;if(!e)return!1;var n=0,r=0,a=/5[HJK][1-9A-Za-z]{49}/g,o=!0,i=!1,s=void 0;try{for(var c,l=(e.match(a)||[])[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value;try{var f=p.m.fromWif(u),m=f.toBuffer().toString("hex"),d=f.toPublicKey(),_=d.toPublicKeyString();this.state.imported_keys_public[_]=!0,this.state.keys_to_account[m]={account_names:[],public_key_string:_},n++}catch(e){r++}}}catch(e){i=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw s}}return this.setState({key_text_message:"Found "+(n?n+" valid":"")+(r?" and "+r+" invalid":"")+" key"+(n>1||r>1?"s":"")+"."},function(){return t.updateOnChange()}),this.state.key_text_message=null,n}},{key:"_renderBalanceClaims",value:function(){return s.a.createElement("div",null,s.a.createElement(E.default,null),s.a.createElement("div",{style:{paddingTop:15}},s.a.createElement("div",{className:"button success",onClick:this.onCancel.bind(this)},s.a.createElement(b.a,{content:"wallet.done"}))))}},{key:"render",value:function(){var e=this,t=this.props.privateKey,n=this.state.keys_to_account,r=Object.keys(n).length,a=this.getImportAccountKeyCount(n);if(!S.a.getWallet())return s.a.createElement(h.default,{importKeys:!0,hideTitle:!0});if(this.props.importing)return s.a.createElement("div",null,s.a.createElement("div",{className:"center-content"},s.a.createElement(v.a,{type:"circle"})));var o=this.state.genesis_filtering,i=(!!this.state.genesis_filter_status.length&&this.state.genesis_filter_finished,null);if(this.state.genesis_filter_status.length){i=[];var c=!0,l=!1,f=void 0;try{for(var p,m=this.state.genesis_filter_status[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var d=p.value;d.count&&d.total&&i.push(s.a.createElement("tr",{key:d.account_name},s.a.createElement("td",null,d.account_name),s.a.createElement("td",null,o?s.a.createElement("span",null,"Filtering ",Math.round(d.count/d.total*100)," % "):s.a.createElement("span",null,d.count))))}}catch(e){l=!0,f=e}finally{try{!c&&m.return&&m.return()}finally{if(l)throw f}}}var _=0!==r,y=w.a.translate("wallet.import_password");if(_&&(y=""),!i&&a){i=[];for(var g in a)i.push(s.a.createElement("tr",{key:g},s.a.createElement("td",null,g),s.a.createElement("td",null,a[g])))}var E=s.a.createElement("div",{className:"button success",onClick:this.onCancel.bind(this)},s.a.createElement(b.a,{content:"wallet.cancel"})),k=1;return this.state.importSuccess?this._renderBalanceClaims():s.a.createElement("div",null,s.a.createElement("div",{style:{padding:"10px 0"}},s.a.createElement("span",null,this.state.key_text_message?this.state.key_text_message:s.a.createElement(x,{key_count:r})),_?s.a.createElement("span",null," (",s.a.createElement("a",{onClick:this.reset.bind(this)},s.a.createElement(b.a,{content:"wallet.reset"})),")"):null),i?s.a.createElement("div",null,i.length?s.a.createElement("div",null,s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement(b.a,{content:"explorer.account.title"})),s.a.createElement("th",null,s.a.createElement(b.a,{content:"settings.restore_key_count"})))),s.a.createElement("tbody",null,i)),s.a.createElement("br",null)):w.a.translate("wallet.no_accounts")):null,s.a.createElement("br",null),_||this.state.genesis_filter_initalizing?null:s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",null,t?s.a.createElement("form",{onSubmit:this.onWif.bind(this)},s.a.createElement(b.a,{component:"label",content:"wallet.paste_private"}),s.a.createElement("input",{ref:"wifInput",type:"password",id:"wif",tabIndex:k++}),s.a.createElement("button",{className:"button",type:"submit"},s.a.createElement(b.a,{content:"wallet.submit"})),E):s.a.createElement("form",{onSubmit:this._passwordCheck.bind(this)},s.a.createElement("label",null,s.a.createElement(b.a,{content:"wallet.bts_09_export"}),this.state.no_file?null:s.a.createElement("span",null,"Â  (",s.a.createElement("a",{onClick:this.reset.bind(this)},"Reset"),")")),s.a.createElement("input",{type:"file",id:"file_input",accept:".json",style:{border:"solid",marginBottom:15},key:this.state.reset_file_name,onChange:this.upload.bind(this)}),s.a.createElement("div",null,this.state.import_file_message),this.state.no_file?null:s.a.createElement("div",null,s.a.createElement("input",{type:"password",ref:"password",key:this.state.reset_password,placeholder:y,onChange:function(){e.state.import_password_message&&e.state.import_password_message.length&&e.setState({import_password_message:null})}}),s.a.createElement("p",{className:"facolor-error"},this.state.import_password_message)),s.a.createElement("div",{className:"button-group"},s.a.createElement("button",{className:u()("button",{disabled:!!this.state.no_file}),type:"submit"},s.a.createElement(b.a,{content:"wallet.submit"})),E))),s.a.createElement("br",null),s.a.createElement("br",null))),this.state.genesis_filter_initalizing?s.a.createElement("div",null,s.a.createElement("div",{className:"center-content"},s.a.createElement(v.a,{type:"circle"}))):null,_?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{className:"button-group"},s.a.createElement("div",{className:u()("button success",{disabled:!_}),onClick:this._saveImport.bind(this)},s.a.createElement(b.a,{content:"wallet.import_keys"})),s.a.createElement("div",{className:"button secondary",onClick:this.reset.bind(this)},s.a.createElement(b.a,{content:"wallet.cancel"})))),s.a.createElement("h4",null,s.a.createElement(b.a,{content:"wallet.unclaimed"})),s.a.createElement(b.a,{component:"p",content:"wallet.claim_later"}),s.a.createElement("div",{className:"grid-block"},s.a.createElement("div",{className:"grid-content no-overflow"},s.a.createElement(b.a,{component:"label",content:"wallet.totals"}),s.a.createElement(P.a,null))),s.a.createElement("br",null)):null)}}]),t}(i.Component);j.defaultProps={privateKey:!0},j=n.i(c.connect)(j,{listenTo:function(){return[C.a]},getProps:function(){return{importing:C.a.getState().importing}}}),t.default=j}});
//# sourceMappingURL=12.js.map