<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Bitshares-Core: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bitshares-Core
   &#160;<span id="projectnumber">2.0.180202</span>
   </div>
   <div id="projectbrief">Your share in the Decentralized Exchange</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_r_e_a_d_m_e_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;BitShares Core</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;==============</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;[Build Status](https://travis-ci.org/bitshares/bitshares-core/branches):</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;`master` | `develop` | `hardfork` | `testnet` | `bitshares-fc` </div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; --- | --- | --- | --- | ---</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; [![](https://travis-ci.org/bitshares/bitshares-core.svg?branch=master)](https://travis-ci.org/bitshares/bitshares-core) | [![](https://travis-ci.org/bitshares/bitshares-core.svg?branch=develop)](https://travis-ci.org/bitshares/bitshares-core) | [![](https://travis-ci.org/bitshares/bitshares-core.svg?branch=hardfork)](https://travis-ci.org/bitshares/bitshares-core) | [![](https://travis-ci.org/bitshares/bitshares-core.svg?branch=testnet)](https://travis-ci.org/bitshares/bitshares-core) | [![](https://travis-ci.org/bitshares/bitshares-fc.svg?branch=master)](https://travis-ci.org/bitshares/bitshares-fc) </div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;* [Getting Started](#getting-started)</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;* [Support](#support)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;* [Using the API](#using-the-api)</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;* [Accessing restricted API&#39;s](#accessing-restricted-apis)</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;* [FAQ](#faq)</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;* [License](#license)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;BitShares Core is the BitShares blockchain implementation and command-line interface.</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;The web wallet is [BitShares UI](https://github.com/bitshares/bitshares-ui).</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;Visit [BitShares.org](https://bitshares.org/) to learn about BitShares and join the community at [BitSharesTalk.org](https://bitsharestalk.org/).</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;**NOTE:** The official BitShares git repository location, default branch, and submodule remotes were recently changed. Existing</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;repositories can be updated with the following steps:</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    git remote set-url origin https://github.com/bitshares/bitshares-core.git</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    git checkout master</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    git remote set-head origin --auto</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    git pull</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    git submodule sync --recursive</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    git submodule update --init --recursive</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;Getting Started</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;---------------</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;Build instructions and additional documentation are available in the</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;[wiki](https://github.com/bitshares/bitshares-core/wiki).</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;We recommend building on Ubuntu 16.04 LTS, and the build dependencies may be installed with:</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    sudo apt-get update</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    sudo apt-get install autoconf cmake git libboost-all-dev libssl-dev g++ libcurl4-openssl-dev</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;To build after all dependencies are installed:</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    git clone https://github.com/bitshares/bitshares-core.git</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    cd bitshares-core</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    git checkout &lt;LATEST_RELEASE_TAG&gt;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    git submodule update --init --recursive</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo .</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    make</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;**NOTE:** BitShares requires an [OpenSSL](https://www.openssl.org/) version in the 1.0.x series. OpenSSL 1.1.0 and newer are NOT supported. If your system OpenSSL version is newer, then you will need to manually provide an older version of OpenSSL and specify it to CMake using `-DOPENSSL_INCLUDE_DIR`, `-DOPENSSL_SSL_LIBRARY`, and `-DOPENSSL_CRYPTO_LIBRARY`.</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;**NOTE:** BitShares requires a [Boost](http://www.boost.org/) version in the range [1.57, 1.63]. Versions earlier than</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;1.57 or newer than 1.63 are NOT supported. If your system Boost version is newer, then you will need to manually build</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;an older version of Boost and specify it to CMake using `DBOOST_ROOT`.</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;After building, the witness node can be launched with:</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    ./programs/witness_node/witness_node</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;The node will automatically create a data directory including a config file. It may take several hours to fully synchronize</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;the blockchain. After syncing, you can exit the node using Ctrl+C and setup the command-line wallet by editing</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;`witness_node_data_dir/config.ini` as follows:</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    rpc-endpoint = 127.0.0.1:8090</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;**NOTE:** By default the witness node will start in reduced memory ram mode by using some of the commands detailed in [Memory reduction for nodes](https://github.com/bitshares/bitshares-core/wiki/Memory-reduction-for-nodes).</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;In order to run a full node with all the account history you need to remove `partial-operations` and `max-ops-per-account` from your config file. Please note that currently(2017-12-23) a full node need 54GB of RAM to operate and required memory is growing fast.</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;After starting the witness node again, in a separate terminal you can run:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ./programs/cli_wallet/cli_wallet</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;Set your inital password:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    &gt;&gt;&gt; set_password &lt;PASSWORD&gt;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    &gt;&gt;&gt; unlock &lt;PASSWORD&gt;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;To import your initial balance:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    &gt;&gt;&gt; import_balance &lt;ACCOUNT NAME&gt; [&lt;WIF_KEY&gt;] true</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;If you send private keys over this connection, `rpc-endpoint` should be bound to localhost for security.</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;Use `help` to see all available wallet commands. Source definition and listing of all commands is available</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;[here](https://github.com/bitshares/bitshares-core/blob/master/libraries/wallet/include/graphene/wallet/wallet.hpp).</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;Support</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;-------</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;Technical support is available in the [BitSharesTalk technical support subforum](https://bitsharestalk.org/index.php?board=45.0).</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;BitShares Core bugs can be reported directly to the [issue tracker](https://github.com/bitshares/bitshares-core/issues).</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;BitShares UI bugs should be reported to the [UI issue tracker](https://github.com/bitshares/bitshares-ui/issues)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;Up to date online Doxygen documentation can be found at [Doxygen](https://bitshares.org/doxygen/hierarchy.html)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;Using the API</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;-------------</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;We provide several different API&#39;s.  Each API has its own ID.</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;When running `witness_node`, initially two API&#39;s are available:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;API 0 provides read-only access to the database, while API 1 is</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;used to login and gain access to additional, restricted API&#39;s.</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;Here is an example using `wscat` package from `npm` for websockets:</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    $ npm install -g wscat</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    $ wscat -c ws://127.0.0.1:8090</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    &gt; {&quot;id&quot;:1, &quot;method&quot;:&quot;call&quot;, &quot;params&quot;:[0,&quot;get_accounts&quot;,[[&quot;1.2.0&quot;]]]}</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    &lt; {&quot;id&quot;:1,&quot;result&quot;:[{&quot;id&quot;:&quot;1.2.0&quot;,&quot;annotations&quot;:[],&quot;membership_expiration_date&quot;:&quot;1969-12-31T23:59:59&quot;,&quot;registrar&quot;:&quot;1.2.0&quot;,&quot;referrer&quot;:&quot;1.2.0&quot;,&quot;lifetime_referrer&quot;:&quot;1.2.0&quot;,&quot;network_fee_percentage&quot;:2000,&quot;lifetime_referrer_fee_percentage&quot;:8000,&quot;referrer_rewards_percentage&quot;:0,&quot;name&quot;:&quot;committee-account&quot;,&quot;owner&quot;:{&quot;weight_threshold&quot;:1,&quot;account_auths&quot;:[],&quot;key_auths&quot;:[],&quot;address_auths&quot;:[]},&quot;active&quot;:{&quot;weight_threshold&quot;:6,&quot;account_auths&quot;:[[&quot;1.2.5&quot;,1],[&quot;1.2.6&quot;,1],[&quot;1.2.7&quot;,1],[&quot;1.2.8&quot;,1],[&quot;1.2.9&quot;,1],[&quot;1.2.10&quot;,1],[&quot;1.2.11&quot;,1],[&quot;1.2.12&quot;,1],[&quot;1.2.13&quot;,1],[&quot;1.2.14&quot;,1]],&quot;key_auths&quot;:[],&quot;address_auths&quot;:[]},&quot;options&quot;:{&quot;memo_key&quot;:&quot;GPH1111111111111111111111111111111114T1Anm&quot;,&quot;voting_account&quot;:&quot;1.2.0&quot;,&quot;num_witness&quot;:0,&quot;num_committee&quot;:0,&quot;votes&quot;:[],&quot;extensions&quot;:[]},&quot;statistics&quot;:&quot;2.7.0&quot;,&quot;whitelisting_accounts&quot;:[],&quot;blacklisting_accounts&quot;:[]}]}</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;We can do the same thing using an HTTP client such as `curl` for API&#39;s which do not require login or other session state:</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    $ curl --data &#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;call&quot;, &quot;params&quot;: [0, &quot;get_accounts&quot;, [[&quot;1.2.0&quot;]]], &quot;id&quot;: 1}&#39; http://127.0.0.1:8090/rpc</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {&quot;id&quot;:1,&quot;result&quot;:[{&quot;id&quot;:&quot;1.2.0&quot;,&quot;annotations&quot;:[],&quot;membership_expiration_date&quot;:&quot;1969-12-31T23:59:59&quot;,&quot;registrar&quot;:&quot;1.2.0&quot;,&quot;referrer&quot;:&quot;1.2.0&quot;,&quot;lifetime_referrer&quot;:&quot;1.2.0&quot;,&quot;network_fee_percentage&quot;:2000,&quot;lifetime_referrer_fee_percentage&quot;:8000,&quot;referrer_rewards_percentage&quot;:0,&quot;name&quot;:&quot;committee-account&quot;,&quot;owner&quot;:{&quot;weight_threshold&quot;:1,&quot;account_auths&quot;:[],&quot;key_auths&quot;:[],&quot;address_auths&quot;:[]},&quot;active&quot;:{&quot;weight_threshold&quot;:6,&quot;account_auths&quot;:[[&quot;1.2.5&quot;,1],[&quot;1.2.6&quot;,1],[&quot;1.2.7&quot;,1],[&quot;1.2.8&quot;,1],[&quot;1.2.9&quot;,1],[&quot;1.2.10&quot;,1],[&quot;1.2.11&quot;,1],[&quot;1.2.12&quot;,1],[&quot;1.2.13&quot;,1],[&quot;1.2.14&quot;,1]],&quot;key_auths&quot;:[],&quot;address_auths&quot;:[]},&quot;options&quot;:{&quot;memo_key&quot;:&quot;GPH1111111111111111111111111111111114T1Anm&quot;,&quot;voting_account&quot;:&quot;1.2.0&quot;,&quot;num_witness&quot;:0,&quot;num_committee&quot;:0,&quot;votes&quot;:[],&quot;extensions&quot;:[]},&quot;statistics&quot;:&quot;2.7.0&quot;,&quot;whitelisting_accounts&quot;:[],&quot;blacklisting_accounts&quot;:[]}]}</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;API 0 is accessible using regular JSON-RPC:</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    $ curl --data &#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;get_accounts&quot;, &quot;params&quot;: [[&quot;1.2.0&quot;]], &quot;id&quot;: 1}&#39; http://127.0.0.1:8090/rpc</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;Accessing restricted API&#39;s</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;--------------------------</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;You can restrict API&#39;s to particular users by specifying an `api-access` file in `config.ini` or by using the `--api-access /full/path/to/api-access.json` startup node command.  Here is an example `api-access` file which allows</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;user `bytemaster` with password `supersecret` to access four different API&#39;s, while allowing any other user to access the three public API&#39;s</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;necessary to use the wallet:</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;       &quot;permission_map&quot; :</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;       [</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;          [</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;             &quot;bytemaster&quot;,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;             {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                &quot;password_hash_b64&quot; : &quot;9e9GF7ooXVb9k4BoSfNIPTelXeGOZ5DrgOYMj94elaY=&quot;,</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                &quot;password_salt_b64&quot; : &quot;INDdM6iCi/8=&quot;,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                &quot;allowed_apis&quot; : [&quot;database_api&quot;, &quot;network_broadcast_api&quot;, &quot;history_api&quot;, &quot;network_node_api&quot;]</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;             }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          ],</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          [</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;             &quot;*&quot;,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;             {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                &quot;password_hash_b64&quot; : &quot;*&quot;,</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                &quot;password_salt_b64&quot; : &quot;*&quot;,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                &quot;allowed_apis&quot; : [&quot;database_api&quot;, &quot;network_broadcast_api&quot;, &quot;history_api&quot;]</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;             }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;          ]</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;       ]</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;Passwords are stored in `base64` as salted `sha256` hashes.  A simple Python script, `saltpass.py` is avaliable to obtain hash and salt values from a password.</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;A single asterisk `&quot;*&quot;` may be specified as username or password hash to accept any value.</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;With the above configuration, here is an example of how to call `add_node` from the `network_node` API:</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    {&quot;id&quot;:1, &quot;method&quot;:&quot;call&quot;, &quot;params&quot;:[1,&quot;login&quot;,[&quot;bytemaster&quot;, &quot;supersecret&quot;]]}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    {&quot;id&quot;:2, &quot;method&quot;:&quot;call&quot;, &quot;params&quot;:[1,&quot;network_node&quot;,[]]}</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {&quot;id&quot;:3, &quot;method&quot;:&quot;call&quot;, &quot;params&quot;:[2,&quot;add_node&quot;,[&quot;127.0.0.1:9090&quot;]]}</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;Note, the call to `network_node` is necessary to obtain the correct API identifier for the network API.  It is not guaranteed that the network API identifier will always be `2`.</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;Since the `network_node` API requires login, it is only accessible over the websocket RPC.  Our `doxygen` documentation contains the most up-to-date information</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;about API&#39;s for the [witness node](https://bitshares.github.io/doxygen/namespacegraphene_1_1app.html) and the</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;[wallet](https://bitshares.github.io/doxygen/classgraphene_1_1wallet_1_1wallet__api.html).</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;If you want information which is not available from an API, it might be available</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;from the [database](https://bitshares.github.io/doxygen/classgraphene_1_1chain_1_1database.html);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;it is fairly simple to write API methods to expose database methods.</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;FAQ</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;---</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;- Is there a way to generate help with parameter names and method descriptions?</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    Yes. Documentation of the code base, including APIs, can be generated using Doxygen. Simply run `doxygen` in this directory.</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    If both Doxygen and perl are available in your build environment, the CLI wallet&#39;s `help` and `gethelp`</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    commands will display help generated from the doxygen documentation.</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    If your CLI wallet&#39;s `help` command displays descriptions without parameter names like</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        `signed_transaction transfer(string, string, string, string, string, bool)`</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    it means CMake was unable to find Doxygen or perl during configuration.  If found, the</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    output should look like this:</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        `signed_transaction transfer(string from, string to, string amount, string asset_symbol, string memo, bool broadcast)`</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;- Is there a way to allow external program to drive `cli_wallet` via websocket, JSONRPC, or HTTP?</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    Yes. External programs may connect to the CLI wallet and make its calls over a websockets API. To do this, run the wallet in</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    server mode, i.e. `cli_wallet -s &quot;127.0.0.1:9999&quot;` and then have the external program connect to it over the specified port</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    (in this example, port 9999).</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;- Is there a way to access methods which require login over HTTP?</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    No.  Login is inherently a stateful process (logging in changes what the server will do for certain requests, that&#39;s kind</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    of the point of having it).  If you need to track state across HTTP RPC calls, you must maintain a session across multiple</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    connections.  This is a famous source of security vulnerabilities for HTTP applications.  Additionally, HTTP is not really</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    designed for &quot;server push&quot; notifications, and we would have to figure out a way to queue notifications for a polling client.</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    Websockets solves all these problems.  If you need to access Graphene&#39;s stateful methods, you need to use Websockets.</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;- What is the meaning of `a.b.c` numbers?</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    The first number specifies the *space*.  Space 1 is for protocol objects, 2 is for implementation objects.</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    Protocol space objects can appear on the wire, for example in the binary form of transactions.</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    Implementation space objects cannot appear on the wire and solely exist for implementation</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    purposes, such as optimization or internal bookkeeping.</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    The second number specifies the *type*.  The type of the object determines what fields it has.  For a</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    complete list of type ID&#39;s, see `enum object_type` and `enum impl_object_type` in</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    [types.hpp](https://github.com/bitshares/bitshares-2/blob/bitshares/libraries/chain/include/graphene/chain/protocol/types.hpp).</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    The third number specifies the *instance*.  The instance of the object is different for each individual</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    object.</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;- The answer to the previous question was really confusing.  Can you make it clearer?</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    All account ID&#39;s are of the form `1.2.x`.  If you were the 9735th account to be registered,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    your account&#39;s ID will be `1.2.9735`.  Account `0` is special (it&#39;s the &quot;committee account,&quot;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    which is controlled by the committee members and has a few abilities and restrictions other accounts</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    do not).</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    All asset ID&#39;s are of the form `1.3.x`.  If you were the 29th asset to be registered,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    your asset&#39;s ID will be `1.3.29`.  Asset `0` is special (it&#39;s BTS, which is considered the &quot;core asset&quot;).</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    The first and second number together identify the kind of thing you&#39;re talking about (`1.2` for accounts,</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    `1.3` for assets).  The third number identifies the particular thing.</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;- How do I get the `network_add_nodes` command to work?  Why is it so complicated?</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    You need to follow the instructions in the &quot;Accessing restricted API&#39;s&quot; section to</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    allow a username/password access to the `network_node` API.  Then you need</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    to pass the username/password to the `cli_wallet` on the command line or in a config file.</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    It&#39;s set up this way so that the default configuration is secure even if the RPC port is</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    publicly accessible.  It&#39;s fine if your `witness_node` allows the general public to query</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    the database or broadcast transactions (in fact, this is how the hosted web UI works).  It&#39;s</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    less fine if your `witness_node` allows the general public to control which p2p nodes it&#39;s</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    connecting to.  Therefore the API to add p2p connections needs to be set up with proper access</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    controls.</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;License</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;-------</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;BitShares Core is under the MIT license. See [LICENSE](https://github.com/bitshares/bitshares-core/blob/master/LICENSE.txt)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;for more information.</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 28 2018 20:12:56 for Bitshares-Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
